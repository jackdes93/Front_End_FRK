{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/thread-loader/dist/cjs.js!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Units/Block_Brand.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Units/Block_Brand.vue","mtime":1574602519096},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { HTTP } from \"../../http-common\";\nimport { router } from \"../../routers\";\nexport default {\n  data: function data() {\n    return {\n      brands: [],\n      wish_list_current: [],\n      customer: {}\n    };\n  },\n  methods: {\n    handle_translate: function handle_translate(name) {\n      var result = '';\n\n      switch (name) {\n        case 'Drink':\n          result = this.$t('drink');\n          break;\n\n        case 'Dessert':\n          result = this.$t('dessert');\n          break;\n\n        case 'Vietnamese Foods':\n          result = this.$t('vn_food');\n          break;\n\n        case 'Foriegn Foods':\n          result = this.$t('foriegn_fd');\n          break;\n\n        case 'BBQ':\n          result = this.$t('bbq');\n          break;\n\n        case 'Brunch':\n          result = this.$t('brunch');\n          break;\n\n        case 'Hot Pot':\n          result = this.$t('hotpot');\n          break;\n      }\n\n      return result;\n    },\n    handle_get_brand_by_category: function handle_get_brand_by_category() {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        HTTP.get('/brands/brand-by-category').then(function (result) {\n          resolve(result.data);\n          _this.brands = result.data.data;\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    },\n    handle_return_string_money: function handle_return_string_money(text) {\n      var length = text.length;\n\n      if (length > 6) {\n        return text.substr(0, text.length - 6);\n      } else if (length == 6) {\n        return '0.' + text.substr(0, 1);\n      }\n    },\n    handle_check_wish_list: function handle_check_wish_list(id_brand) {\n      return this.wish_list_current.indexOf(id_brand) == -1 ? false : true;\n    },\n    handle_add_wish_list: function handle_add_wish_list(brand) {\n      var _this2 = this;\n\n      var brand_wish = document.getElementById(brand._id);\n      var element_first = brand_wish.children[0];\n\n      if (localStorage.getItem('access_token')) {\n        if (element_first.checked) {\n          HTTP.patch(\"/wish/remove-user/brand=\".concat(brand._id, \"&customer=\").concat(this.customer.id)).then(function (result) {\n            alert(result.data.message);\n\n            if (result.data.status == 200) {\n              window.location.reload();\n              element_first.checked = false;\n              brand_wish.children[1].style.color = '#F3A8B7';\n            }\n          }).catch(function (error) {\n            console.log('Error: ' + error);\n          });\n        } else if (!element_first.checked) {\n          HTTP.patch('/wish/' + brand._id, {\n            id_customer: this.customer.id\n          }).then(function (result) {\n            setTimeout(function () {\n              alert(result.data.message);\n            }, 100);\n\n            if (result.data.status == 200) {\n              window.location.reload();\n              element_first.checked = true;\n              _this2.brand = brand;\n            }\n          }).catch(function (error) {\n            console.log('Error: ' + error);\n          });\n        }\n      } else {\n        router.push('/login');\n      }\n    },\n    handle_get_wish_list: function handle_get_wish_list(id_customer) {\n      var _this3 = this;\n\n      HTTP.get('/customers/' + id_customer).then(function (result) {\n        localStorage.removeItem('customer');\n        localStorage.setItem('customer', JSON.stringify(result.data));\n        _this3.customer = result.data;\n        _this3.wish_list_current = result.data.wish_list;\n\n        _this3.wish_list_current.map(function (item) {\n          _this3.is_wish_list = item == _this3.id_brand ? true : false;\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  },\n  created: function created() {\n    this.handle_get_brand_by_category();\n\n    if (JSON.parse(localStorage.getItem('customer'))) {\n      this.customer = JSON.parse(localStorage.getItem('customer'));\n      this.handle_get_wish_list(this.customer.id);\n    }\n  }\n};",{"version":3,"sources":["Block_Brand.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div class=\"row\" v-for=\"(category, index) in brands\" :key=\"index\">\n            <div class=\"block-products\" v-if=\"category.brands.length > 0\">\n                <div class=\"list-joining row-header-block\" >\n                    <span class=\"field bg-title-header text-uppercase\"><i class=\"fas fa-crown\"></i>{{handle_translate(category.category)}}</span>\n                    <span class=\"circle-small bg-title-header\"><i class=\"fas fa-chevron-right\"></i></span>\n                </div>\n                <div class=\"row-content row-brands\">\n                    <div class=\"col-4 \" v-for=\"(brand, i) in category.brands\" :key=\"i\"  >\n                        <div class=\"brand-item\">\n                            <router-link :to=\"{path: `/brand/${brand._id}`}\" class=\"logo-brand-home\" style=\"color:#000; width: 100%;\">\n                                <div class=\"header-img flex-row-center\">\n                                    <img  v-bind:src=\"`${brand.image_source.logo}`\" v-bind:alt=\"brand.name\">\n                                    <div class=\"label-circle-front\" v-if=\"brand.hotlabel\">\n                                        <i class=\"fas fa-fire-alt\" style=\"margin: 0\"></i>\n                                        <span class=\"text-uppercase\" style=\"font-weight: bold;\">Hot</span>\n                                    </div>\n                                </div>\n                            </router-link>\n                            <div class=\"introduct-brand\">\n                                <div class=\"form-group row-group\">\n                                    <h4 class=\"name-brand text-uppercase\">{{brand.name}}</h4>\n                                    <span class=\"box-shadow wish \" :id=\"`${brand._id}`\" v-on:click=\"handle_add_wish_list(brand)\"> \n                                        <input class=\"toogle-heart\" type=\"checkbox\"  :checked=\"handle_check_wish_list(brand._id)\" />\n                                        <label class=\"label-toogle-heart\" >❤</label>\n                                    </span>\n                                </div>\n                                <div class=\"intro-text intro-overflow margin-bottom\"> {{brand.introduce}}</div>\n                                <div class=\"price-text\" v-if=\"brand.price != 0\">{{brand.price.toLocaleString()}} <sup>đ</sup></div>\n                                <div class=\"price-text\" v-else>Contact Us</div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-4\" style=\"padding-top: 10px; flex: 1; max-width: 360px;\" v-if=\"category.joiningdemands.length > 0\">\n                        <div class=\"list-joining header-block-product row-header\">\n                            <span class=\"circle\"><i class=\"fas fa-bolt text-color-primarry\"></i></span>\n                            <p class=\"title-header text-uppercase\" style=\"padding-right: 15px;\">{{$t('last_joining')}}</p>\n                        </div>\n                        <div class=\"list-item\">\n                            <div class=\"list-joining\" v-for=\"(joining, a) in category.joiningdemands\" :key=\"a\">\n                                <p class=\"text-overflow text-description padding-left\">{{joining.name}} | {{$t('ask')}}: {{handle_translate(joining.category)}} | {{$t('brand_info.budget')}}: {{handle_return_string_money(joining.budget.from.toString())}} {{$t('million')}} -> {{handle_return_string_money(joining.budget.to.toString())}} {{$t('million')}}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { HTTP } from '../../http-common';\nimport { router } from '../../routers';\nexport default {\n    data() {\n        return {\n            brands: [],\n            wish_list_current: [],\n            customer: {}\n        }\n    },\n    methods: {\n        handle_translate(name) {\n            var result = ''\n            switch(name) {\n                case 'Drink':\n                    result = this.$t('drink')\n                    break;\n                case 'Dessert':\n                    result = this.$t('dessert')\n                    break;\n                case 'Vietnamese Foods':\n                    result = this.$t('vn_food')\n                    break;\n                case 'Foriegn Foods':\n                    result = this.$t('foriegn_fd')\n                    break;\n                case 'BBQ':\n                    result = this.$t('bbq')\n                    break;\n                case 'Brunch':\n                    result = this.$t('brunch')\n                    break;\n                case 'Hot Pot':\n                    result = this.$t('hotpot')\n                    break;\n            }\n            return result;\n        },\n        handle_get_brand_by_category() {\n            return new Promise((resolve, reject) => {\n                HTTP.get('/brands/brand-by-category').then(result => {\n                    resolve(result.data)\n                    this.brands = result.data.data\n                }).catch(error => {\n                    reject(error)\n                })\n            })\n        },\n        handle_return_string_money(text) {\n            const length = text.length\n            if(length > 6) {\n                return text.substr(0, text.length - 6) \n            } else if(length == 6) {\n                return '0.' + text.substr(0, 1)\n            }\n        },\n        handle_check_wish_list(id_brand) {\n            return this.wish_list_current.indexOf(id_brand) == -1 ? false : true\n        },\n        handle_add_wish_list(brand) {\n            var brand_wish = document.getElementById(brand._id)\n            var element_first = brand_wish.children[0]\n            if(localStorage.getItem('access_token')) {\n                if(element_first.checked) {\n                    HTTP.patch(`/wish/remove-user/brand=${brand._id}&customer=${this.customer.id}`).then(result => {\n                        alert(result.data.message)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = false\n                            brand_wish.children[1].style.color = '#F3A8B7'\n                        }                       \n                    }).catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                } else if(!element_first.checked){\n                    HTTP.patch('/wish/' + brand._id, {id_customer: this.customer.id}).then(result => {\n                        setTimeout(() => { alert(result.data.message)}, 100)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = true\n                            this.brand = brand\n                        }\n                    })\n                    .catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                }\n            } else {\n                router.push('/login')\n            }\n        },\n        handle_get_wish_list(id_customer) {\n            HTTP.get('/customers/' + id_customer).then(result => {\n                localStorage.removeItem('customer')\n                localStorage.setItem('customer', JSON.stringify(result.data))\n                this.customer = result.data\n                this.wish_list_current = result.data.wish_list\n                this.wish_list_current.map(item => { this.is_wish_list = item == this.id_brand ? true : false })  \n            }).catch(error => {\n                console.log(error)\n            }) \n        }\n    },\n    created() {\n        this.handle_get_brand_by_category()\n         if(JSON.parse(localStorage.getItem('customer'))) {\n            this.customer = JSON.parse(localStorage.getItem('customer'))\n            this.handle_get_wish_list(this.customer.id)\n        }\n    }\n}\n</script>"],"sourceRoot":"src/components/Units"}]}