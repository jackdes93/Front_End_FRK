{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/PageSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/PageSearch.vue","mtime":1583054335415},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport block_nav from \"../Units/BlockNav\";\nimport block_footer from \"../Units/Block_Footer\";\nimport Block_Banner_Bottom from \"../Units/Block_Banner_Bottom.vue\";\nimport { HTTP } from \"../../http-common\";\nimport { router } from \"../../routers\";\nexport default {\n  components: {\n    block_nav: block_nav,\n    block_footer: block_footer,\n    Block_Banner_Bottom: Block_Banner_Bottom\n  },\n  data: function data() {\n    return {\n      search_result: [],\n      key_word: '',\n      wish_list_current: []\n    };\n  },\n  methods: {\n    handle_search: function handle_search() {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        HTTP.get(\"/search/key-word=\".concat(_this.key_word)).then(function (result) {\n          resolve(result);\n          _this.search_result = result.data.status == 200 ? result.data.data : [];\n        }).catch(function (error) {\n          reject(error);\n          console.log('Error: ' + error);\n        });\n      });\n    },\n    handle_check_wish_list: function handle_check_wish_list(id_brand) {\n      return this.wish_list_current.indexOf(id_brand) == -1 ? false : true;\n    },\n    handle_add_wish_list: function handle_add_wish_list(brand) {\n      var _this2 = this;\n\n      var brand_wish = document.getElementById(brand._id);\n      var element_first = brand_wish.children[0];\n\n      if (localStorage.getItem('access_token')) {\n        if (element_first.checked) {\n          HTTP.patch(\"/wish/remove-user/brand=\".concat(brand._id, \"&customer=\").concat(this.customer.id)).then(function (result) {\n            alert(result.data.message);\n\n            if (result.data.status == 200) {\n              window.location.reload();\n              element_first.checked = false;\n              brand_wish.children[1].style.color = '#F3A8B7';\n            }\n          }).catch(function (error) {\n            console.log('Error: ' + error);\n          });\n        } else if (!element_first.checked) {\n          HTTP.patch('/wish/' + brand._id, {\n            id_customer: this.customer.id\n          }).then(function (result) {\n            setTimeout(function () {\n              alert(result.data.message);\n            }, 100);\n\n            if (result.data.status == 200) {\n              window.location.reload();\n              element_first.checked = true;\n              _this2.brand = brand;\n            }\n          }).catch(function (error) {\n            console.log('Error: ' + error);\n          });\n        }\n      } else {\n        router.push('/login');\n      }\n    },\n    handle_get_wish_list: function handle_get_wish_list(id_customer) {\n      var _this3 = this;\n\n      HTTP.get('/customers/' + id_customer).then(function (result) {\n        localStorage.removeItem('customer');\n        localStorage.setItem('customer', JSON.stringify(result.data));\n        _this3.customer = result.data;\n        _this3.wish_list_current = result.data.wish_list;\n\n        _this3.wish_list_current.map(function (item) {\n          _this3.is_wish_list = item == _this3.id_brand ? true : false;\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  },\n  created: function created() {\n    this.key_word = this.$route.params.key;\n    this.handle_search();\n  }\n};",{"version":3,"sources":["PageSearch.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <block_nav></block_nav>\n        <div class=\"row block-products\" v-if=\"search_result.length > 0\">\n            <div class=\"row-content\" style=\"flex-wrap: wrap;\">\n                <div class=\"brand-item\" style=\"margin: 0 18px 48px 0;\" v-for=\"(brand, i) in search_result\" :key=\"i\" >\n                    <router-link :to=\"{path: `/${brand.id_category}/${brand.name_vietnamese}`}\" class=\"logo-brand-home\" style=\"color:#000; width: 100%;\">\n                        <div class=\"header-img flex-row-center\">\n                            <img  v-bind:src=\"`${brand.image_source.logo}`\" v-bind:alt=\"brand.name\">\n                            <div class=\"label-circle-front\" v-if=\"brand.hotlabel\">\n                                <i class=\"fas fa-fire-alt\" style=\"margin: 0\"></i>\n                                <span class=\"text-uppercase\" style=\"font-weight: bold;\">Hot</span>\n                            </div>\n                        </div>\n                    </router-link>\n                    <div class=\"introduct-brand\">\n                        <div class=\"form-group row-group\">\n                            <h4 class=\"name-brand text-uppercase\">{{brand.name}}</h4>\n                            <span class=\"box-shadow wish \" :id=\"`${brand.id}`\" v-on:click=\"handle_add_wish_list(brand)\"> \n                                <input class=\"toogle-heart\" type=\"checkbox\"  :checked=\"handle_check_wish_list(brand.id)\" />\n                                <label class=\"label-toogle-heart\" >❤</label>\n                            </span>\n                        </div>\n                        <div class=\"price-text\" v-if=\"brand.price != 0\">{{brand.price.toLocaleString()}} <sup>đ</sup></div>\n                        <div class=\"price-text\" v-else>{{$t('contact_us')}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"row block-products\" v-else>\n            <span class=\"label\" style=\"padding: 24px 16px\">{{$t('nodata')}}</span>\n        </div>\n        <Block_Banner_Bottom></Block_Banner_Bottom>\n        <block_footer></block_footer>\n    </div>\n</template>\n\n<script>\nimport block_nav from '../Units/BlockNav';\nimport block_footer from '../Units/Block_Footer';\nimport Block_Banner_Bottom from '../Units/Block_Banner_Bottom.vue';\nimport { HTTP } from '../../http-common';\nimport { router } from '../../routers';\n\n\nexport default {\n    components : {\n        block_nav, block_footer, Block_Banner_Bottom\n    },\n    data() {\n        return {\n            search_result: [],\n            key_word: '',\n            wish_list_current: [],\n        }\n    }, \n    methods: {\n        handle_search() {\n            return new Promise((resolve, reject) => {\n                HTTP.get(`/search/key-word=${this.key_word}`).then(result => {\n                    resolve(result)\n                    this.search_result = result.data.status == 200 ? result.data.data : []\n                }).catch(error => {\n                    reject(error)\n                    console.log('Error: ' + error)\n                })\n            })\n        },\n        handle_check_wish_list(id_brand) {\n            return this.wish_list_current.indexOf(id_brand) == -1 ? false : true\n        },\n        handle_add_wish_list(brand) {\n            var brand_wish = document.getElementById(brand._id)\n            var element_first = brand_wish.children[0]\n            if(localStorage.getItem('access_token')) {\n                if(element_first.checked) {\n                    HTTP.patch(`/wish/remove-user/brand=${brand._id}&customer=${this.customer.id}`).then(result => {\n                        alert(result.data.message)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = false\n                            brand_wish.children[1].style.color = '#F3A8B7'\n                        }                       \n                    }).catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                } else if(!element_first.checked){\n                    HTTP.patch('/wish/' + brand._id, {id_customer: this.customer.id}).then(result => {\n                        setTimeout(() => { alert(result.data.message)}, 100)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = true\n                            this.brand = brand\n                        }\n                    })\n                    .catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                }\n            } else {\n                router.push('/login')\n            }\n        },\n        handle_get_wish_list(id_customer) {\n            HTTP.get('/customers/' + id_customer).then(result => {\n                localStorage.removeItem('customer')\n                localStorage.setItem('customer', JSON.stringify(result.data))\n                this.customer = result.data\n                this.wish_list_current = result.data.wish_list\n                this.wish_list_current.map(item => { this.is_wish_list = item == this.id_brand ? true : false })  \n            }).catch(error => {\n                console.log(error)\n            }) \n        }\n    },\n    created() {\n        this.key_word = this.$route.params.key\n        this.handle_search()\n    }    \n}\n</script>"],"sourceRoot":"src/components/Pages"}]}