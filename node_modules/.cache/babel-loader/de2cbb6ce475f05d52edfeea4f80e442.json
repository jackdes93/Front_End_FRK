{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/Admin/Pages/ReportViewerBrand.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/Admin/Pages/ReportViewerBrand.vue","mtime":1580833529572},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nimport { HTTP_ADMIN } from \"../../../../http-common\";\nimport JsonExcel from 'vue-json-excel';\nimport datepicker from 'vuejs-datepicker';\nVue.component('download-excel', JsonExcel);\nexport default {\n  components: {\n    datepicker: datepicker\n  },\n  data: function data() {\n    return {\n      format: 'dd/MM/yyyy',\n      brands: [],\n      list_brand: [],\n      titles: [],\n      name_file: '',\n      json_fields: {\n        'OWNER': 'owner',\n        'BRAND NAME': 'brand_name',\n        'PRICE': 'price',\n        'CATEGORY': 'category',\n        'BRAND TYPE': 'level',\n        'VIEW': 'amount_viewer'\n      },\n      json_data: [],\n      date_from: '',\n      date_to: '',\n      disable_date_from: {\n        from: new Date(),\n        ranges: []\n      },\n      disable_date_to: {\n        from: new Date(),\n        ranges: []\n      },\n      selected_type: null,\n      data_report_brand: null,\n      is_have_brand: false,\n      search_text: '',\n      id_brand: ''\n    };\n  },\n  methods: {\n    handle_change: function handle_change() {\n      if (this.selected_type == 1) {\n        this.is_have_brand = true;\n      } else {\n        this.is_have_brand = false;\n      }\n\n      this.data_report_brand = [];\n      this.json_data = [];\n    },\n    handle_select_brand: function handle_select_brand(brand) {\n      this.id_brand = brand.id;\n      this.search_text = brand.name;\n      this.is_have_brand = false;\n    },\n    handle_get_brand_origin: function handle_get_brand_origin() {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        HTTP_ADMIN.get('/brands').then(function (result) {\n          resolve(result);\n          result.data.data.map(function (brand) {\n            _this.list_brand.push(brand);\n          });\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    },\n    handle_get_brand: function handle_get_brand() {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        var current_date = new Date();\n        var date_f = new Date(_this2.date_from);\n        var date_t = new Date(_this2.date_to);\n        HTTP_ADMIN.get(\"/reports/view-brand&date-from=\".concat(date_f, \"&date-to=\").concat(date_t)).then(function (result) {\n          resolve(result);\n          _this2.brands = result.data.status == 200 ? result.data.data : [];\n\n          _this2.titles.push('Summary Amount View Of Brand');\n\n          _this2.name_file = \"SUMMARY_VIEW_OF_BRAND_\".concat(current_date.getDate(), \"_\").concat(current_date.getMonth() + 1, \"_\").concat(current_date.getFullYear(), \".xls\");\n\n          _this2.brands.map(function (item) {\n            _this2.json_data.push({\n              owner: item.owner_brand.full_name,\n              brand_name: item.name_brand,\n              category: item.id_category,\n              price: item.price.toLocaleString(),\n              level: item.level,\n              amount_viewer: item.amount_viewer ? item.amount_viewer : 0\n            });\n          });\n        }).catch(function (error) {\n          reject(error);\n          console.log(error);\n        });\n      });\n    },\n    handle_date_visit_of_brand: function handle_date_visit_of_brand() {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        var current_date = new Date();\n        var date_f = new Date(_this3.date_from);\n        var date_t = new Date(_this3.date_to);\n        HTTP_ADMIN.get(\"/reports/\".concat(_this3.id_brand, \"/date-from=\").concat(date_f, \"&date-to=\").concat(date_t)).then(function (result) {\n          resolve(result);\n          _this3.brands = result.data.status == 200 ? result.data.data : [];\n\n          _this3.titles.push('Summary Amount View Of Brand');\n\n          _this3.name_file = \"SUMMARY_VIEW_OF_BRAND_\".concat(_this3.search_text, \"_\").concat(current_date.getDate(), \"_\").concat(current_date.getMonth() + 1, \"_\").concat(current_date.getFullYear(), \".xls\");\n\n          _this3.brands.map(function (item) {\n            _this3.json_data.push({\n              owner: item.owner_brand.full_name,\n              brand_name: item.name_brand,\n              category: item.id_category,\n              price: item.price.toLocaleString(),\n              level: item.level,\n              amount_viewer: item.amount_viewer ? item.amount_viewer : 0\n            });\n          });\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    },\n    handle_export: function handle_export() {\n      if (this.selected_type == 0 && this.date_from && this.date_to) {\n        this.handle_get_brand();\n      } else if (this.selected_type == 1 && this.id_brand.length > 0 && this.date_from && this.date_to) {\n        var current_date = new Date();\n        this.titles = [];\n        this.handle_date_visit_of_brand();\n        this.name_file = \"Summary_Brand_\".concat(this.search_text, \"_\").concat(current_date.getDate(), \"_\").concat(current_date.getMonth() + 1, \"_\").concat(current_date.getFullYear(), \".xls\");\n      } else {\n        alert(\"\".concat(this.$t('message_alert.please_fill')));\n      }\n    }\n  },\n  computed: {\n    list_brand_filter: function list_brand_filter() {\n      var _this4 = this;\n\n      return this.list_brand.filter(function (item) {\n        return item.name.includes(_this4.search_text.toUpperCase()) || item.name.includes(_this4.search_text.toLowerCase());\n      });\n    }\n  },\n  created: function created() {\n    this.handle_get_brand_origin();\n  }\n};",{"version":3,"sources":["ReportViewerBrand.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"flex-box padding-full block-custom-header\">\n        <div class=\"block-custom col-12 padding-fix-lr box-shadow margin-fix-right\" style=\"max-height: 700px; background: #EDEDED; padding-bottom: 32px;\">\n            <div class=\"block-header bg-title-header padding-full header-fix\">\n                <p class=\"title-form\">{{$t('top_view')}}</p>\n            </div>\n            <div class=\"form-group row-group\" style=\"justify-content: flex-end; position: relative\">\n                <div class=\"form-group col-group\" >\n                    <span class=\"label-span margin-bottom-fix\">{{$t('brand')}}</span>\n                    <select v-model=\"selected_type\" class=\"selection-brand\" style=\"max-width: 180px\" @change=\"handle_change()\">\n                        <option value=null>-- {{$t('select_type')}}--</option>\n                        <option value=\"0\">{{$t('manager.all_brand')}}</option>\n                        <option value=\"1\">{{$t('brand')}}</option>\n                    </select>\n                </div>\n                <div class=\"form-group col-group margin-fix-right\" v-if=\"selected_type == 1\">\n                    <span class=\"label-span margin-bottom-fix\">{{$t('user_page.brand_name')}}</span>\n                    <input type=\"text\" placeholder=\"Search....\" class=\"border-bottom-ol\" v-model=\"search_text\" style=\"height: 48px\" v-on:click=\"is_have_brand = true\">\n                </div>\n                <div class=\"form-group col-group\" v-if=\"list_brand_filter.length > 0 && is_have_brand\" style=\"max-height: 280px; position: absolute; top: 76px; left: 380px;\">\n                    <ul class=\"list-city\" >\n                        <li class=\"item-city\" v-for=\"(brand,i) in list_brand_filter\" :key=\"i\" v-on:click=\"handle_select_brand(brand)\">\n                            <p>{{brand.name}}</p>\n                        </li>\n                    </ul>\n                </div>\n                <div class=\"form-group col-group margin-fix-right\">\n                    <span class=\"label-span margin-bottom-fix\">{{$t('date_from')}}</span>\n                    <datepicker :placeholder=\"`${this.$t('date_from')}`\" class=\"date_picker\" style=\"justify-content: flex-start\" :disabled-dates=\"disable_date_from\"  :format=\"format\"  v-model=\"date_from\"></datepicker>\n                </div>\n                <div class=\"form-group col-group margin-fix-right\">\n                    <span class=\"label-span margin-bottom-fix\">{{$t('date_to')}}</span>\n                    <datepicker :placeholder=\"`${this.$t('date_to')}`\" class=\"date_picker\" style=\"justify-content: flex-start\" :disabled-dates=\"disable_date_to\" :format=\"format\" v-model=\"date_to\"></datepicker>\n                </div>\n                <div class=\"form-group row-group\" style=\"max-width:160px; margin-top: 24px; \">\n                    <span class=\"label-span margin-bottom-fix\"></span>\n                    <button class=\"btn btn-sign-up\" v-on:click=\"handle_export()\">{{$t('export')}}</button>\n                </div>\n                \n            </div>\n            <div class=\"form-group row-group\" style=\"justify-content: flex-end\">\n                <download-excel\n                    :data= \"json_data\" \n                    :title= \"titles\"\n                    :fields = \"json_fields\"\n                    worksheet = \"all_brand\"\n                    :name = \"name_file\"\n                    class=\"btn-dwn-report text-color-primarry\" style=\"max-width:168px!important;\">\n                    {{$t('report.download_report')}}\n                    <span><i class=\"fas fa-print\"></i></span>\n                </download-excel>\n            </div>\n            <div class=\"form-group row-group width-full\">\n                <div class=\"form-group row-group width-full\">\n                    <div class=\"block-list-row width-full padding-full border-bottom-ol\">\n                        <div class=\"block-item-row-header margin-fix-right\" style=\"max-width: 64px; width: 64px; justify-content: center;\">\n                            <p class=\"label text-color-second \">{{$t('report.rank')}}</p>\n                        </div>\n                        <div class=\"block-item-row-header\" style=\"max-width: 160px; margin: 0 8px;\">\n                            <p class=\"label text-color-second \">{{$t('report.owner')}}</p>\n                        </div>\n                        <div class=\"block-item-row-header\" style=\"max-width: 220px;\">\n                            <p class=\"label text-color-second \">{{$t('user_page.brand_name')}}</p>\n                        </div>\n                        <div class=\"block-item-row-header\" style=\"max-width: 200px;\">\n                            <p class=\"label text-color-second \">{{$t('price')}}</p>\n                        </div>\n                        <div class=\"block-item-row-header\">\n                            <p class=\"label text-color-second \">{{$t('form_joining.category')}}</p>\n                        </div>\n                        <div class=\"block-item-row-header\" style=\"width: 200px; flex: none;\">\n                            <p class=\"label text-color-second\" style=\"text-align:left;\">{{$t('report.brand_type')}}</p>\n                        </div>\n                        <div class=\"block-item-row-header\" style=\"display: flex; justify-content: center;\">\n                            <p class=\"label text-color-second\" style=\"text-align: left\">{{$t('view')}}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"form-group padding-full flex-row-center\" v-if=\"brands.length == 0\">\n                <span class=\"label-cell\">{{$t('nodata')}}</span>\n            </div>\n            <div class=\"form-group col-group\" style=\"padding: 0 8px 16px 8px; max-height: 700px; overflow: auto;\">\n                <div class=\"form-group border-bottom-ol padding-full row-animation\" style=\"align-items: center;\" v-for=\"(item,index) in brands\" :key=\"index\">\n                    <div class=\"block-item-row logo-brand margin-fix-right\" style=\"width: 64px; border: none;\">\n                        <p class=\"label text-color-second\">{{index + 1}}</p>\n                    </div>\n                    <div class=\"block-item-row \" style=\"max-width: 160px; margin: 0 8px;\">\n                        <p class=\"label-cell\">{{item.owner_brand.full_name}}</p>\n                    </div>\n                    <div class=\"block-item-row \" style=\"max-width: 220px;\">\n                        <a class=\"label-cell width-full\" style=\"font-size: 16px;\" v-bind:href=\"`/#/brand/${item._id}`\">{{item.name_brand}}</a>\n                    </div>\n                    <div class=\"block-item-row \" style=\"max-width: 200px;\">\n                        <p class=\"label-cell bold\">{{item.price.toLocaleString() }} <sup>đ</sup></p>\n                    </div>\n                    <div class=\"block-item-row \" style=\"max-width: 360px; margin-right: 8px;\">\n                        <p class=\"label-cell text-overflow\" >{{item.id_category}}</p>\n                    </div>\n                    <div class=\"block-item-row\">\n                        <p class=\"label-cell\">{{item.level}}</p>\n                    </div>\n                    <div class=\"block-item-row\" style=\"display: flex; justify-content: center;\">\n                        <p class=\"label text-color-second\">{{item.amount_viewer ? item.amount_viewer : 0}}</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport { HTTP_ADMIN } from '../../../../http-common';\nimport JsonExcel from 'vue-json-excel'\nimport datepicker from 'vuejs-datepicker';\n\nVue.component('download-excel', JsonExcel)\n\nexport default {\n    components: {datepicker},\n    data() {\n        return {\n            format: 'dd/MM/yyyy',\n            brands: [],\n            list_brand: [],\n            titles: [],\n            name_file: '',\n            json_fields: {\n                'OWNER' : 'owner',\n                'BRAND NAME' : 'brand_name',\n                'PRICE' : 'price',\n                'CATEGORY': 'category',\n                'BRAND TYPE' : 'level',\n                'VIEW': 'amount_viewer'\n            },\n            json_data: [],\n            date_from: '',\n            date_to: '',\n            disable_date_from : {\n                from: new Date(),\n                ranges: []\n            },\n            disable_date_to : {\n                from: new Date(),\n                ranges: []\n            },\n            selected_type: null,\n            data_report_brand: null,\n            is_have_brand: false,\n            search_text: '',\n            id_brand: ''\n        }\n    },\n    methods: {\n        handle_change() {\n            if(this.selected_type == 1) { \n                this.is_have_brand = true\n            } else {\n                this.is_have_brand = false\n            }\n            this.data_report_brand = []\n            this.json_data = []\n        },\n        handle_select_brand(brand) {\n            this.id_brand = brand.id\n            this.search_text = brand.name\n            this.is_have_brand = false\n        },\n        handle_get_brand_origin() {\n            return new Promise((resolve, reject) => {\n                HTTP_ADMIN.get('/brands').then(result => {\n                    resolve(result)\n                    result.data.data.map(brand => {\n                        this.list_brand.push(brand)\n                    })\n                    \n                }).catch(error => {\n                    reject(error)\n                })\n            })\n        },\n        handle_get_brand() {\n            return new Promise((resolve, reject) => {\n                const current_date = new Date()\n                const date_f = new Date(this.date_from)\n                const date_t = new Date(this.date_to)\n                HTTP_ADMIN.get(`/reports/view-brand&date-from=${date_f}&date-to=${date_t}`).then(result => {\n                    resolve(result)\n                    this.brands = result.data.status == 200 ? result.data.data : []\n                    this.titles.push('Summary Amount View Of Brand')\n                    this.name_file = `SUMMARY_VIEW_OF_BRAND_${current_date.getDate()}_${current_date.getMonth() + 1}_${current_date.getFullYear()}.xls`\n                    this.brands.map(item => {\n                        this.json_data.push({\n                            owner: item.owner_brand.full_name,\n                            brand_name: item.name_brand,\n                            category: item.id_category,\n                            price: item.price.toLocaleString(),\n                            level: item.level,\n                            amount_viewer : item.amount_viewer ? item.amount_viewer : 0\n                        })\n                    })\n                }).catch(error => {\n                    reject(error)\n                    console.log(error)\n                })\n            })\n        },\n        handle_date_visit_of_brand() {\n            return new Promise((resolve, reject) => {\n                const current_date = new Date()\n                const date_f = new Date(this.date_from)\n                const date_t = new Date(this.date_to)\n                HTTP_ADMIN.get(`/reports/${this.id_brand}/date-from=${date_f}&date-to=${date_t}`).then(result => {\n                    resolve(result)\n                    this.brands = result.data.status == 200 ? result.data.data : []\n                    this.titles.push('Summary Amount View Of Brand')\n                    this.name_file = `SUMMARY_VIEW_OF_BRAND_${this.search_text}_${current_date.getDate()}_${current_date.getMonth() + 1}_${current_date.getFullYear()}.xls`\n                    this.brands.map(item => {\n                        this.json_data.push({\n                            owner: item.owner_brand.full_name,\n                            brand_name: item.name_brand,\n                            category: item.id_category,\n                            price: item.price.toLocaleString(),\n                            level: item.level,\n                            amount_viewer : item.amount_viewer ? item.amount_viewer : 0\n                        })\n                    })\n                }).catch(error => {\n                    reject(error)\n                })\n            })\n        },\n        handle_export() {\n            if(this.selected_type == 0 && this.date_from && this.date_to) {\n                this.handle_get_brand()\n            } else if(this.selected_type == 1 && this.id_brand.length > 0 && this.date_from && this.date_to) {\n                const current_date = new Date()\n                this.titles = []\n                this.handle_date_visit_of_brand()\n                this.name_file = `Summary_Brand_${this.search_text}_${current_date.getDate()}_${current_date.getMonth() + 1}_${current_date.getFullYear()}.xls`  \n            } else {\n                alert(`${this.$t('message_alert.please_fill')}`)\n            }\n        }\n    },\n    computed: {\n        list_brand_filter() {\n            return this.list_brand.filter(item => { return item.name.includes(this.search_text.toUpperCase()) ||  item.name.includes(this.search_text.toLowerCase())})\n        }\n    },\n    created() {\n        this.handle_get_brand_origin()\n    }\n}\n</script>"],"sourceRoot":"src/components/Pages/Admin/Pages"}]}