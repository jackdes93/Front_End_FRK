{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/thread-loader/dist/cjs.js!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/User/ui_user/InfoUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/User/ui_user/InfoUser.vue","mtime":1573741649539},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { HTTP } from \"../../../../http-common\";\nimport { socket_bus } from \"../../../../main\";\nimport block_alert from \"../../../Units/Block_Alert\";\nexport default {\n  components: {\n    block_alert: block_alert\n  },\n  data: function data() {\n    return {\n      is_edit: true,\n      is_change_password: false,\n      readonly: true,\n      customer: {},\n      password: ''\n    };\n  },\n  methods: {\n    handle_edit: function handle_edit() {\n      this.is_edit = false;\n      this.readonly = false;\n    },\n    handle_cancel: function handle_cancel() {\n      this.is_edit = true;\n      this.readonly = true;\n    },\n    handle_save: function handle_save() {\n      var _this = this;\n\n      var data = {\n        id: this.customer.id,\n        updateOps: this.customer\n      };\n      this.$validator.validateAll();\n\n      if (!this.errors.any()) {\n        HTTP.patch('/customers/' + data.id, data.updateOps).then(function (result) {\n          if (result.status == 200) {\n            _this.is_edit = true;\n            _this.readonly = true;\n            localStorage.removeItem('customer');\n            localStorage.setItem('customer', JSON.stringify(_this.customer));\n            socket_bus.$emit('SHOW_ALERT', {\n              is_show: true,\n              message: 'Update Account Success',\n              is_redirect: true\n            });\n          } else {\n            socket_bus.$emit('SHOW_ALERT', {\n              is_show: true,\n              message: 'Update Account Fail!',\n              is_redirect: false\n            });\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    },\n    handle_change_password: function handle_change_password() {\n      var _this2 = this;\n\n      var id_customer = this.customer.id;\n      return new Promise(function (resolve, reject) {\n        HTTP.patch('/customers/update-password/' + id_customer, {\n          password: _this2.password\n        }).then(function (result) {\n          resolve(result);\n\n          if (result.data.status == 200) {\n            _this2.is_change_password = false;\n            alert('Change Password Success!!!');\n          } else {\n            alert('Change Password Fail!!');\n          }\n        }).catch(function (error) {\n          reject(error);\n          _this2.password = '';\n          console.log('Error: ' + error);\n        });\n      });\n    }\n  },\n  created: function created() {\n    if (JSON.parse(localStorage.getItem('customer'))) {\n      this.customer = JSON.parse(localStorage.getItem('customer'));\n    }\n  }\n};",{"version":3,"sources":["InfoUser.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"flex-box block-info-user padding-full\">\n        <div class=\"block-custom width-full padding-fix-lr box-shadow margin-fix-right\" style=\"max-height: 600px;\">\n            <div class=\"block-header bg-title-header padding-full header-fix\">\n                <p class=\"title-form\">{{$t('user_page.edit_profile')}}</p>\n                <p class=\"label-cell white\">{{$t('user_page.comple_profile')}}</p>\n            </div>\n            <form class=\"block-form\">\n                <div class=\"form-group row-group\">\n                    <div class=\"form-group col-group margin-fix-right \">\n                        <span class=\"label-span margin-bottom\">{{$t('user_page.full_name')}}</span>\n                        <input type=\"text\" name=\"full_name\" class=\"border-bottom-ol\" v-model=\"customer.full_name\" :readonly=\"readonly\" v-validate=\"`required: true`\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('full_name')\">{{errors.first('full_name')}}</span>\n                    </div>\n                    <div class=\"form-group col-group\">\n                        <span class=\"label-span margin-bottom\">{{$t('form_joining.your_email')}}</span>\n                        <input type=\"text\" name=\"email\" v-model=\"customer.email\" class=\"border-bottom-ol\" :readonly=\"readonly\" v-validate=\"`required: true|email`\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('email')\">{{errors.first('email')}}</span>\n                    </div>\n                </div>\n                <div class=\"form-group row-group\">\n                    <div class=\"form-group col-group\">\n                        <span class=\"label-span margin-bottom\">{{$t('user_page.address')}} </span>\n                        <input type=\"text\" name=\"address\" class=\"border-bottom-ol\" v-model=\"customer.address\" :readonly=\"readonly\" v-validate=\"`required: true`\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('address')\">{{errors.first('address')}}</span>\n                    </div>\n                </div>\n                <div class=\"form-group row-group\">\n                    <div class=\"form-group col-group margin-fix-right\">\n                        <span class=\"label-span margin-bottom\">{{$t('form_joining.phone_number')}}</span>\n                        <input type=\"text\" name=\"phone_number\" v-model=\"customer.phone_number\" class=\"border-bottom-ol\" :readonly=\"readonly\" v-validate=\"`required: true|regex:^([0-9]+)$|max:10`\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('phone_number')\">{{errors.first('phone_number')}}</span>\n                    </div>\n                    <div class=\"form-group col-group\">\n                        <span class=\"label-span margin-bottom\">{{$t('user_page.account_type')}}</span>\n                        <input type=\"text\" v-model=\"customer.level\" class=\"border-bottom-ol\" readonly>\n                        </div>\n                </div>\n\n                <div class=\"form-group row-group\" >\n                    <div class=\"form-group\" style=\"align-items: center; justify-content: center;\" v-show=\"!is_edit\">\n                        <div class=\"btn btn-sign-up \" style=\"border:1px solid #ED6B28; width: 160px;\" v-on:click=\"handle_cancel\">{{$t('cancle')}}</div>\n                    </div>\n                    <div class=\"form-group\" v-if=\"is_edit\" style=\"align-items: center; justify-content: center;\">\n                        <div class=\"btn btn-login bg-title-header\" style=\"border:none;\" v-on:click=\"handle_edit\">{{$t('edit')}}</div>\n                    </div>\n                    <div class=\"form-group\" v-else style=\"align-items: center; justify-content: center;\">\n                        <div class=\"btn btn-login bg-title-header\" style=\"border:none;\" v-on:click=\"handle_save\">{{$t('save')}}</div>\n                    </div>\n                    <div class=\"form-group\" style=\"align-items: center; justify-content: center\" v-if=\"is_edit\">\n                        <div class=\"btn btn-login bg-title-header\" style=\"border:none;\" v-on:click=\"is_change_password = true\">{{$t('change_pass')}}</div>\n                    </div>\n                </div>\n            </form>\n        </div>\n        <block_alert></block_alert>\n        <div class=\"block-model\" style=\"background: rgba(0,0,0,.5); \" v-if=\"is_change_password\">\n            <div class=\"block-alert padding-full animation-tranform-scale\" style=\"max-width: 360px;\">\n                <div class=\"block-header bg-title-header padding-full header-fix width-full\">\n                    <p class=\"title-form\">Change Password</p>\n                </div>\n                <form class=\"block-form\" style=\"padding: 8px 16px!important; width: 85%;\" @submit.prevent=\"handle_change_password\">\n                    <div class=\"form-group margin-bottom col-group\">\n                        <span class=\"label-span margin-bottom-fix\">New Password</span>\n                        <input type=\"password\" class=\"border-bottom-ol\" placeholder=\"Type your password\" name=\"password\" v-model=\"password\" v-validate=\"'required:true|min:9'\" ref=\"password\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('password')\">{{errors.first('password')}}</span>\n                    </div>\n                    <div class=\"form-group margin-bottom col-group\" style=\"margin-top: 16px;\">\n                        <span class=\"label-span margin-bottom-fix\">Confirm Password</span>\n                        <input type=\"password\" class=\"border-bottom-ol\" placeholder=\"Type your password\" name=\"re_password\" v-validate=\"'required:true|confirmed:password'\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('re_password')\">{{errors.first('re_password')}}</span>\n                    </div>\n                    <div class=\"form-group row-group\" style=\"justify-content: center; margin-top: 16px;\">\n                        <div class=\"btn btn-cancel margin-fix-right\" style=\"color: #ED6B28; border: 1px solid #ED6B28\" v-on:click=\"is_change_password = false\">CANCEL</div>\n                        <button class=\"btn btn-signup primary-color\" style=\"color: #FFF\">CHANGE</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div> \n</template>\n\n<script>\nimport { HTTP } from '../../../../http-common'\nimport { socket_bus } from '../../../../main'\nimport block_alert from '../../../Units/Block_Alert'\n\nexport default {\n    components: {\n        block_alert\n    },\n    data() {\n        return {\n            is_edit: true,\n            is_change_password: false,\n            readonly: true,\n            customer: {},\n            password: ''\n        }\n    },\n    methods: {\n        handle_edit() {\n            this.is_edit = false;\n            this.readonly = false;\n        },\n        handle_cancel() {\n            this.is_edit = true;\n            this.readonly = true;\n        },\n        handle_save() {\n            const data = {id: this.customer.id, updateOps: this.customer}\n            this.$validator.validateAll()\n            if(!this.errors.any()) {\n                HTTP.patch('/customers/' + data.id, data.updateOps).then(result => {\n                    if(result.status == 200) {\n                        this.is_edit = true;\n                        this.readonly = true;\n                        localStorage.removeItem('customer')\n                        localStorage.setItem('customer', JSON.stringify(this.customer))\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Update Account Success', is_redirect: true})\n                    } else {\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Update Account Fail!', is_redirect: false})\n                    }\n                }).catch(error => {\n                    console.log(error);\n                })\n            }\n        },\n        handle_change_password() {\n            const id_customer = this.customer.id\n            return new Promise((resolve, reject) => {\n                HTTP.patch('/customers/update-password/' + id_customer, {password: this.password}).then(result => {\n                    resolve(result)\n                    if(result.data.status == 200) {\n                        this.is_change_password = false\n                        alert('Change Password Success!!!')\n                    } else {\n                        alert('Change Password Fail!!')\n                    }\n                })\n                .catch(error => {\n                    reject(error)\n                    this.password = ''\n                    console.log('Error: ' + error)\n                })\n            })\n        }\n    },\n    created() {\n        if(JSON.parse(localStorage.getItem('customer'))) {\n            this.customer = JSON.parse(localStorage.getItem('customer'))\n        }\n        \n    }\n}\n</script>"],"sourceRoot":"src/components/Pages/User/ui_user"}]}