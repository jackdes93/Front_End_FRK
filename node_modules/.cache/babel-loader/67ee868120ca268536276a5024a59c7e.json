{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/thread-loader/dist/cjs.js!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/Admin/Units/NavLeft.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/Admin/Units/NavLeft.vue","mtime":1574618435026},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { router } from \"../../../../routers\";\nimport { HTTP_ADMIN } from \"../../../../http-common\";\nimport { socket_bus } from \"../../../../main\";\nexport default {\n  data: function data() {\n    return {\n      manager: {},\n      avatar: '',\n      is_show: false,\n      url_preview: ''\n    };\n  },\n  methods: {\n    handle_logout: function handle_logout() {\n      localStorage.removeItem('token_manager');\n      router.push('/manager-login');\n    },\n    handle_upload: function handle_upload() {\n      this.is_show = true;\n      this.url_preview = this.manager.avatar;\n    },\n    handleFileUpload: function handleFileUpload(e) {\n      this.url_preview = [];\n      var files = e.target.files || e.dataTransfer.files; // var _URL = window.URL || window.webkitURL;\n      // var image = new Image()\n\n      if (!files.length) return;\n      this.avatar = files[0];\n      this.url_preview = URL.createObjectURL(files[0]);\n    },\n    handle_upload_image: function handle_upload_image() {\n      var _this = this;\n\n      var data_form = new FormData();\n      data_form.append(\"name\", this.manager.id);\n      data_form.append(\"avatar\", this.avatar);\n      return new Promise(function (resolve, reject) {\n        HTTP_ADMIN.post('/admin/upload-avatar/' + _this.manager.id, data_form, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }).then(function (result) {\n          resolve(result);\n\n          if (result.data.status == 200) {\n            socket_bus.$emit('SHOW_MESSAGE', {\n              message: 'Change Avatar Success'\n            });\n\n            _this.handle_get_new_info(_this.manager.id);\n          } else {\n            socket_bus.$emit('SHOW_MESSAGE', {\n              message: 'Change Avatar Fail'\n            });\n          }\n        }).catch(function (error) {\n          reject(error);\n          console.log('Error: ' + error);\n        });\n      });\n    },\n    handle_no_accept: function handle_no_accept() {\n      this.is_show = false;\n    },\n    handle_accept: function handle_accept() {\n      this.handle_upload_image();\n    },\n    handle_get_new_info: function handle_get_new_info(id) {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        HTTP_ADMIN.get(\"/admin/\".concat(_this2.manager.id)).then(function (result) {\n          resolve(result);\n          _this2.manager = result.data.data;\n          _this2.is_show = false;\n          localStorage.setItem('manager', JSON.stringify(_this2.manager));\n          setTimeout(function () {\n            window.location.reload();\n          }, 1500);\n        }).catch(function (error) {\n          reject(error);\n          console.log(\"Error: \".concat(error));\n        });\n      });\n    }\n  },\n  created: function created() {\n    if (JSON.parse(localStorage.getItem('manager'))) {\n      this.manager = JSON.parse(localStorage.getItem('manager'));\n    }\n  }\n};",{"version":3,"sources":["NavLeft.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n   <div class=\"flex-box block-left-menu gray-bg\" style=\"z-index: 9; position: fixed; top: 80px; left: 0; height:0;\">\n        <div class=\"flex-box block-info padding-full\" style=\"padding-top: 16px;\">\n            <div class=\"flex-box circle-avatar margin-fix-right\" style=\"position: relative\">\n                <img :src=\"`${manager.avatar}`\" :alt=\"`${manager.id}`\">\n                <span class=\"action-edit\" v-on:click=\"handle_upload()\"><i class=\"fas fa-edit\"></i></span>\n            </div>\n            <div class=\"flex-box block-content\" >\n                <p class=\"label title-form text-uppercase bold margin-bottom-fix\" style=\"font-size: 18px;\">{{manager.full_name}}</p>\n                <div class=\"form-group flex-row-center\" style=\"margin-top: 8px; background: none;\" v-on:click=\"handle_logout\">\n                    <a class=\"label-cell text-color-second sm-size\">{{$t('user_page.logout')}}</a>\n                </div>\n            </div>\n        </div>\n        <div class=\"block-model\" style=\"background: rgba(0, 0, 0, .4)\" v-if=\"is_show\">\n            <div class=\"block-alert animation-transform-scale padding-full\" style=\"width: 320px\">\n                <div class=\"form-group box-header\">\n                    <p class=\"text-center label text-uppercase\" style=\"font-size: 20px;\">Avatar Upload</p>\n                </div>\n                <div class=\"form-group.col-group margin-bottom\">\n                    <input type=\"file\" v-validate=\"`required:true`\" name=\"avatar\" ref=\"avatar\"  v-on:change=\"handleFileUpload\" multiple accept=\"image/*\">\n                    <span class=\"error-text margin-fix-top\" v-show=\"errors.has('avatar')\">{{errors.first('avatar')}}</span>\n                </div>\n                <div class=\"form-group row-group\">\n                    <div class=\"form-group margin-bottom margin-fix-right\" style=\"max-height: 120px\" >\n                        <img v-bind:src=\"url_preview\" style=\"width: 100%; height: auto; object-fit: contain;\">\n                    </div>\n                </div>\n                <div class=\"form-group row-group flex-row-center\" style=\"justify-content: center; margin-top: 16px;\">\n                    <div class=\"btn btn-sign-up margin-fix-right\" style=\"width: 25%\" v-on:click=\"handle_no_accept()\">Cancel</div>\n                    <button class=\"btn btn-sign-up primary-color\" style=\"color:#FFF; width: 25%\" @click=\"handle_accept\">OK</button>\n                </div>\n            </div>\n        </div>\n        <br>\n        <span class=\"line-separate\"></span>\n        <div class=\" flex-box block-list padding-full\" style=\"min-height: 72%;\">\n            <div class=\" flex-box block-item margin-bottom\">\n                <div class=\"flex-box block-item-header\">\n                    <span class=\"icon\"><i class=\"fas fa-cogs\"></i></span>\n                    <p class=\"label text-uppercase bold\">{{$t('manager.systems')}}</p>\n                </div>\n                <div class=\"flex-box block-list flex-left\" style=\"padding-left: 36px\">\n                    <div class=\"block-item flex-left margin-bottom-fix flex-row\">\n                        <router-link to=\"/manager/admin-list\" class=\"label-cell black sm-size\">{{$t('manager.ad_ma')}}</router-link>\n                    </div>\n                    <div class=\"block-item flex-left margin-bottom-fix flex-row\">\n                        <router-link to=\"/manager/menu-editor\" class=\"label-cell black sm-size\">{{$t('form_joining.category')}}</router-link>\n                    </div>\n                    <div class=\"block-item flex-left margin-bottom-fix flex-row\">\n                        <router-link to=\"/manager/fqa-management\" class=\"label-cell black sm-size\">{{$t('manager.fqa_manager')}}</router-link>\n                    </div>\n                    <div class=\"block-item flex-left margin-bottom-fix flex-row\">\n                        <router-link to=\"/manager/support-center\" class=\"label-cell black sm-size\">{{$t('manager.support_center')}}</router-link>\n                    </div>\n                     <div class=\"block-item flex-left margin-bottom-fix flex-row\">\n                        <router-link to=\"/manager/settings\" class=\"label-cell black sm-size\">{{$t('manager.support_code_setting')}}</router-link>\n                    </div>\n                </div>\n            </div>\n            <div class=\" flex-box block-item margin-bottom\">\n                <div class=\"flex-box block-item-header\">\n                    <span class=\"icon\"><i class=\"fas fa-user-cog\"></i></span>\n                    <p class=\"label text-uppercase bold\">{{$t('manager.user')}}</p>\n                </div>\n                <div class=\"flex-box block-list flex-left\" style=\"padding-left: 36px\">\n                    <div class=\"block-item flex-left margin-bottom-fix\">\n                        <router-link to=\"/manager/user-list\" class=\"label-cell black sm-size\">{{$t('manager.user_list')}}</router-link>\n                    </div>\n                    <div class=\"block-item flex-left margin-bottom-fix\">\n                        <router-link to=\"/manager/brand-list\" class=\"label-cell black sm-size\">{{$t('manager.brand_list')}}</router-link>\n                    </div>\n                </div>\n            </div>\n            <div class=\" flex-box block-item margin-bottom\">\n                <div class=\"flex-box block-item-header\">\n                    <span class=\"icon\"><i class=\"fas fa-bullhorn\"></i></span>\n                    <p class=\"label text-uppercase bold\">{{$t('manager.adv')}} </p>\n                </div>\n                <div class=\"flex-box block-list flex-left\" style=\"padding-left: 36px\">\n                     <div class=\"block-item flex-left margin-bottom-fix\">\n                        <router-link to=\"/manager/advertisement-type\" class=\"label-cell black sm-size\">{{$t('manager.adv_type')}}</router-link>\n                    </div>\n                    <div class=\"block-item flex-left margin-bottom-fix\">\n                        <router-link to=\"/manager/advertising-wait-list\" class=\"label-cell black sm-size\">{{$t('manager.adv_wait')}}</router-link>\n                    </div>\n                    <div class=\"block-item flex-left margin-bottom-fix\">\n                        <router-link to=\"/manager/advertising-stop-list\" class=\"label-cell black sm-size\">{{$t('manager.advertisement_stop')}}</router-link>\n                    </div>\n                    <div class=\"block-item flex-left margin-bottom-fix\">\n                        <router-link to=\"/manager/advertising-list\" class=\"label-cell black sm-size\">{{$t('user_page.advertisement_list')}}</router-link>\n                    </div>\n                </div>\n            </div>\n            <div class=\" flex-box block-item margin-bottom\">\n                <div class=\"flex-box block-item-header\">\n                    <span class=\"icon\"><i class=\"fas fa-chart-area\"></i></span>\n                    <p class=\"label text-uppercase bold\">{{$t('manager.report')}} </p>\n                </div>\n                <div class=\"flex-box block-list flex-left\" style=\"padding-left: 36px\">\n                    <div class=\"block-item flex-left margin-bottom-fix\">\n                        <router-link to=\"/manager/report-view-brand\" class=\"label-cell black sm-size\">{{$t('manager.visit')}}</router-link>\n                    </div>\n                    <div class=\"block-item flex-left margin-bottom-fix\">\n                        <router-link to=\"/manager/report-call-back\" class=\"label-cell black sm-size\">{{$t('manager.request_call')}}</router-link>\n                    </div>\n                    <div class=\"block-item flex-left margin-bottom-fix\">\n                        <router-link to=\"/manager/report-wish-brand\" class=\"label-cell black sm-size\">{{$t('manager.wish')}}</router-link>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <div class=\"flex-box flex-col-center padding-full\" style=\"background: #EEE; bottom: 0;\">\n            <p class=\"label-cell sm-size text-center\">2019 &copy; Franchise King <i class=\"fas fa-bolt text-color-primarry\"></i> Brave Cat</p>\n        </div>\n    </div>\n</template>\n<style> \n.action-edit { display: block; position: absolute; bottom: 8px; right: 0;}\n.action-edit .fa-edit { display: none}\n.circle-avatar:hover .action-edit .fa-edit { display: block; color: #2A2A2A;}\n</style>\n<script>\nimport { router } from '../../../../routers';\nimport { HTTP_ADMIN} from '../../../../http-common'\nimport { socket_bus } from '../../../../main'\n\nexport default {\n    data() {\n        return {\n            manager: {},\n            avatar: '',\n            is_show: false,\n            url_preview: ''\n        }\n    },\n    methods: {\n        handle_logout() {\n            localStorage.removeItem('token_manager')\n            router.push('/manager-login')\n        },\n        handle_upload() {\n            this.is_show = true\n            this.url_preview = this.manager.avatar\n        },\n        handleFileUpload(e) {\n            this.url_preview = []\n            var files = e.target.files || e.dataTransfer.files;\n            // var _URL = window.URL || window.webkitURL;\n            // var image = new Image()\n            if (!files.length)\n                return;\n            this.avatar = files[0]\n            this.url_preview = URL.createObjectURL(files[0]);\n        },\n        handle_upload_image() {\n            const data_form = new FormData();\n            data_form.append(\"name\", this.manager.id)\n            data_form.append(\"avatar\", this.avatar)\n                \n            return new Promise((resolve, reject) => {\n                HTTP_ADMIN.post('/admin/upload-avatar/' + this.manager.id, data_form, {\n                    headers: {\n                        'Content-Type' : 'multipart/form-data'\n                    }\n                }).then(result => {\n                    resolve(result)\n                    if(result.data.status == 200) {\n                        socket_bus.$emit('SHOW_MESSAGE', {message: 'Change Avatar Success'})\n                        this.handle_get_new_info(this.manager.id)\n                    } else {\n                        socket_bus.$emit('SHOW_MESSAGE', {message: 'Change Avatar Fail'})\n                    }\n                }).catch(error => {\n                    reject(error)\n                    console.log('Error: ' + error);\n                })\n            })\n        },\n        handle_no_accept() {\n            this.is_show = false\n        },\n        handle_accept() {\n            this.handle_upload_image()\n        },\n        handle_get_new_info(id) {\n            return new Promise((resolve, reject) => {\n                HTTP_ADMIN.get(`/admin/${this.manager.id}`).then(result => {\n                    resolve(result)\n                    this.manager = result.data.data\n                    this.is_show = false\n                    localStorage.setItem('manager', JSON.stringify(this.manager))\n                    setTimeout(() => { window.location.reload()}, 1500)\n                }).catch(error => {\n                    reject(error)\n                    console.log(`Error: ${error}`);\n                })\n            })\n        }\n    },\n    created() {\n        if(JSON.parse(localStorage.getItem('manager'))) {\n            this.manager = JSON.parse(localStorage.getItem('manager'))\n        }\n    }\n\n}\n</script>"],"sourceRoot":"src/components/Pages/Admin/Units"}]}