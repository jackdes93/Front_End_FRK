{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/NormalBrand.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/NormalBrand.vue","mtime":1575537770576},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport block_footer from '../Units/Block_Footer';\nimport block_nav from '../Units/BlockNav';\nimport block_nav_vip from '../Units/Block_Nav_Vip';\nimport { Promise } from 'q';\nimport { HTTP } from '../../http-common';\nimport { router } from '../../routers';\nimport datepicker from 'vuejs-datepicker';\nimport { socket_bus} from '../../main'\n\nexport default {\n    components: {\n        block_footer, block_nav,datepicker, block_nav_vip\n    },\n    data() {\n        return {\n            format: 'dd/MM/yyyy',\n            id_brand: '',\n            events: [],\n            brand: { id: \"\", name: \"\", image_source: {logo: \"\", thumbnail: \"\", image_intro: \"\", main_banner: \"\"}, id_category: \"\", id_customer: \"\",introduce: \"\",\n            location: [], phone_number: \"\", terms: [], website: \"\", priority: 0, price: 0, level : 1, email: \"\", feauture: \"\", event: []},\n            joining_demands: [],\n            new_joining_request: {id_brand: \"\", sex: \"\", name: \"\", email: \"\", location: \"\", budget:{from: 0, to: 0}, store_front: false, open_time: new Date(Date.now() + 7 * 60 * 60 * 1000), phone_number: \"\", zalo: \"\", time_contact: \"0\", message: \"\"},\n            list_city:[],\n            city_show: false,\n            is_hot_label: false,\n            city_choose: {_id: '', name: '-- Select City --'},\n            customer: {},\n            wish_list_current: [],\n            is_wish_list: false,\n            list_icon: [],\n            list_image_vip: [],\n            i:0,\n            position: 0,\n            is_owner: true,\n            is_vip: false\n        }\n    },\n    methods: {\n        handle_scroll() {\n            var startTime = null\n            var duration = 800\n            function animation(current_time) {\n                if(startTime === null) startTime = current_time\n                var timeElapsed = current_time - startTime\n                var run = ease(timeElapsed, 0, 1000, duration)\n                window.scrollTo(0, run);\n\n                if(timeElapsed < duration) {\n                    requestAnimationFrame(animation);\n                }\n            }\n\n            function ease (t, b, c, d) {\n                t /= d/2;\n                if (t < 1) return c/2 * t * t + b;\n                t--;\n                return -c/2 * ( t * (t - 2) - 1) + b;\n            }\n\n            requestAnimationFrame(animation)\n        },\n        handle_check_wish_list(id_brand) {\n            return this.wish_list_current.indexOf(id_brand) == -1 ? false : true\n        },\n        handle_click(action) {\n            var list_brand_element = document.getElementById('list-menu')\n            var count = document.querySelectorAll('#list-menu .menu-item').length * 270 / 1080\n            var marginLeft = 1080\n            \n            switch(action) {\n                case 'NEXT':\n                    this.i = (this.i == count - 1) ? 0 :  this.i + 1\n                    break;\n                case 'PREV':\n                    this.i = ( this.i == 0) ? 0 :  this.i - 1\n                    break;\n            }\n            setTimeout(() => {\n                list_brand_element.style.marginLeft = \"-\" + (marginLeft *  this.i) + \"px\";\n            }, 200)\n        },\n        handle_click_action(action) {\n           \n            switch(action) {\n                case 'NEXT':\n                    this.position = this.position < 2 ? this.position + 1 : 0\n                    break;\n                case 'PREV':\n                    this.position = this.position > 0 ? this.position - 1 : 2\n                    break;\n            }\n            document.getElementById('bgvip').style.backgroundImage = `url('${this.list_image_vip[this.position]}')`\n        },\n        handle_get_info_brand(id_brand) {\n            return new Promise((resolve, reject) => {\n                HTTP.get('/brands/' + id_brand).then(result => {\n                    resolve(result)\n                    if(result.data.status == 200) {\n                        this.brand =  result.data.data\n                        this.events = this.brand.events\n                        this.handle_get_joining_demands(this.brand.id_category)\n                        this.is_hot_label = this.brand.hotlabel\n                        this.is_vip = this.brand.level == 'NORMAL' ? false : true\n                        this.list_image_vip = this.brand['image_source'].bg_vip\n                    } else {\n                        this.$router.push('/')\n                    }\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log('Error: ' + error);\n                })\n            })\n        },\n        handle_return_date_string(date) {\n            return new Date(date).getDate() + '/' + (new Date(date).getMonth() + 1) + '/' + new Date(date).getFullYear()\n        },\n        handle_add_wish_list(brand) {\n            var brand_wish = document.getElementById(brand.id)\n            var element_first = brand_wish.children[0]\n            if(localStorage.getItem('access_token')) {\n                if(element_first.checked) {\n                    HTTP.patch(`/wish/remove-user/brand=${brand.id}&customer=${this.customer.id}`).then(result => {\n                        alert(result.data.message)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = false\n                            brand_wish.children[1].style.color = '#F3A8B7'\n                        }                       \n                    }).catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                } else if(!element_first.checked){\n                    HTTP.patch('/wish/' + brand.id, {id_customer: this.customer.id}).then(result => {\n                        setTimeout(() => { alert(result.data.message)}, 100)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = true\n                            this.brand = brand\n                        }\n                    })\n                    .catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                }\n            } else {\n                router.push('/login')\n            }\n        },\n        handle_get_joining_demands(category) {\n            return new Promise((resolve, reject) => {\n                HTTP.get(`joining-request/brand/${this.brand.id}`).then(result => {\n                    resolve(result)\n                    this.joining_demands = result.data.status == 200 ? result.data.data : []\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log(error)\n                })\n            })\n        },\n        handle_select_city(i) {\n            this.city_choose = this.list_city[i]\n            this.city_show = false;\n            this.new_joining_request.location = this.new_joining_request.location.length == 0 ? this.new_joining_request.location += this.city_choose.name : this.new_joining_request.location += ', ' + this.city_choose.name\n        },\n        changeHandler() {\n            this.new_joining_request.time_contact = this.timer_call.HH + ':' + this.timer_call.mm\n        },\n        handle_return_string_money(text) {\n            const length = text.length\n           if(length > 6) {\n               return text.substr(0, text.length - 6) \n           } else if(length == 6) {\n               return '0.' + text.substr(0, 1)\n           }\n        },\n        handle_toogle($event) {\n            this.city_show = !this.city_show\n            $event.stopPropagation();\n        },\n        handle_post_joining_request() {\n            this.$validator.validateAll()\n            if(!this.errors.any()) {\n                this.new_joining_request.id_brand = this.brand.id\n                return new Promise((resolve, reject) => {\n                    HTTP.post('/joining-request', this.new_joining_request).then(result => {\n                        resolve(result)\n                        if(result.data.status == 201) {\n                            socket_bus.$emit('SHOW_MESSAGE', 'Post your request Success')\n                            setTimeout(() => { window.location.reload()}, 3000)\n                        } else {\n                            socket_bus.$emit('SHOW_MESSAGE', 'Post your request Fail')\n                        }\n                    })\n                    .catch(error => {\n                        reject(error)\n                        console.log(error)\n                    })\n                })\n            } else {\n                alert('Post Your Request Brand FAIL')\n            }\n        },\n        handle_scroll_to_top(item) {\n            var online_inquery = document.getElementById(item);\n            var startTime = null;\n            var duration = 1000\n            var start_position = parseFloat(window.pageYOffset);\n            var target_position = parseFloat(online_inquery.offsetTop); \n            var distance = (target_position - 10)\n            function animation(current_time) {\n                if(startTime === null) startTime = current_time\n                var timeElapsed = current_time - startTime\n                var run = ease(timeElapsed, start_position, distance, duration)\n                window.scrollTo(0, run);\n\n                if(timeElapsed < duration) {\n                    requestAnimationFrame(animation);\n                }\n            }\n\n            function ease (t, b, c, d) {\n                t /= d/2;\n                if (t < 1) return c/2 * t * t + b;\n                t--;\n                return -c/2 * ( t * (t - 2) - 1) + b;\n            }\n\n            requestAnimationFrame(animation)\n        },\n        handle_scroll_to_top_non_vip(item, button) {\n            const online_inquery = document.getElementById(item);\n            const btn_click = document.getElementById(button);\n             var startTime = null;\n            var duration = 1000\n            const start_position =  parseFloat(btn_click.offsetTop);\n            const target_position = parseFloat(online_inquery.offsetTop);\n            const distance = (target_position - start_position - 100)\n            function animation(current_time) {\n                if(startTime === null) startTime = current_time\n                var timeElapsed = current_time - startTime\n                var run = ease(timeElapsed, start_position, distance, duration)\n                window.scrollTo(0, run);\n\n                if(timeElapsed < duration) {\n                    requestAnimationFrame(animation);\n                }\n            }\n\n            function ease (t, b, c, d) {\n                t /= d/2;\n                if (t < 1) return c/2 * t * t + b;\n                t--;\n                return -c/2 * ( t * (t - 2) - 1) + b;\n            }\n\n            requestAnimationFrame(animation)\n        },\n        handle_get_wish_list(id_customer) {\n            HTTP.get('/customers/' + id_customer).then(result => {\n                localStorage.removeItem('customer')\n                localStorage.setItem('customer', JSON.stringify(result.data))\n                this.customer = result.data\n                this.wish_list_current = result.data.wish_list\n                this.wish_list_current.map(item => { this.is_wish_list = item == this.id_brand ? true : false })  \n            }).catch(error => {\n                console.log(error)\n            }) \n        },\n        handle_format_show_date(date) {\n            const value_date = new Date(date)\n            return `${value_date.getDate() < 10 ? `0${value_date.getDate()}` :value_date.getDate()}/${value_date.getMonth() + 1}/${value_date.getFullYear()}`\n        }\n    },\n    mounted() {\n        this.$nextTick(() => {\n            window.addEventListener('click', () => {\n                if(this.city_show) {\n                    this.city_show = false\n                }\n            })\n        })\n    },  \n    created() {\n        this.id_brand = this.$route.params.id\n        if(JSON.parse(localStorage.getItem('customer'))) {\n            this.customer = JSON.parse(localStorage.getItem('customer'))\n            this.handle_get_wish_list(this.customer.id)\n        }\n        this.handle_get_info_brand(this.$route.params.id)\n       \n        this.$store.dispatch('get_cities').then(result => {\n            this.list_city = result.data\n        })\n        this.list_icon = ['Equipments.png','Need-Crowd.png', 'Low-Risk.png', 'Free-Franchise-Fee.png', 'Have-Decorated.png', 'Free-Signing.png', 'Exemption.png', 'Education.png', 'Free-Margin.png']\n    }\n}\n\n",{"version":3,"sources":["NormalBrand.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"NormalBrand.vue","sourceRoot":"src/components/Pages","sourcesContent":["<template>\n    <div>\n        <!-- NAV -->\n        <block_nav v-if=\"!is_vip\"></block_nav>\n        <div class=\"container bg-vip-1 flex-box\" id=\"bgvip\" style=\"height: 1000px;\" v-else> \n            <img :src=\"`${list_image_vip[position]}`\" :alt=\"`${brand.name}`\" style=\"width:100%; height: 1000px; position: absolute; z-index:9; \">\n            <block_nav_vip style=\"z-index: 99\"></block_nav_vip>\n            <div class=\"block-brand-vip\" style=\"z-index: 99\">\n                <div class=\"wrap-container flex-box\" style=\"padding: 20px 5px; align-items: center;\">\n                    <div class=\"logo-vip\">\n                        <img :src=\"`${brand.image_source.logo}`\" v-bind:alt=\"brand.name\" style=\"object-fit: contain; opacity: 100% !important;\">\n                    </div>\n                    <div class=\"intro-vip\">\n                        <div class=\"form-group\">\n                            <div class=\"header-info-brand\" style=\"background: transparent; flex: 1; padding: 0 16px;\" >\n                                <p class=\"title-brand text-uppercase\" style=\"font-family: 'Cabin', sans-serif; font-size: 26px; display: flex; justify-content: flex-start; align-items: center; max-width: 380px;\"> \n                                <span class=\"larger-text text-uppercase\" style=\"font-family: 'Cabin',sans-serif;\"> {{brand.name}} </span></p>\n                                <span class=\"box-shadow wish margin-fix-right margin-fix-left\" v-if=\"is_owner\" :id=\"`${brand.id}`\" v-on:click=\"handle_add_wish_list(brand)\"> \n                                    <input class=\"toogle-heart\" type=\"checkbox\"  :checked=\"handle_check_wish_list(brand.id)\" />\n                                    <label class=\"label-toogle-heart\" >❤</label>\n                                </span>\n                            </div>\n                            \n                            <span class=\"item-contact\" style=\"flex: 1; display: flex; align-items: center; margin: 0;\">\n                                <i class=\"fas fa-money-check-alt\" style=\"font-size: 28px; color: #FFF;\">\n                                    <span style=\"font-family: Cabin',sans-serif; padding:0 10px;\">Cost:</span> \n                                </i>\n                                <span class=\"price-text\" style=\"font-size: 28px;\"> {{Number(brand.offset_price).toLocaleString()}}<sup>đ</sup></span> \n                            </span>\n                        </div>\n                        <div class=\"form-group row-group padding-full\">\n                            <ul class=\"list\">\n                                <li class=\"padding-right\">\n                                    <i class=\"fas fa-crown padding-right-fix\"></i>\n                                    <router-link class=\"white\" to=\"#BRANDINTRODUCE\">BRAND INTRODUCE</router-link>\n                                </li>\n                                <li class=\"padding-right\">\n                                    <i class=\"fas fa-rocket padding-right-fix white\"></i>\n                                    <router-link class=\"white\" to=\"#FRANCHISETERM\">FRANCHISE TERM</router-link>\n                                </li>\n                                <li>\n                                    <i class=\"fas fa-comments padding-right-fix white\"></i>\n                                    <a v-on:click=\"handle_scroll_to_top('ONLINEONQUIRY')\" class=\"white\">ONLINE INQUIRY</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div class=\"label-circle-vip\" v-if=\"is_hot_label\">\n                        <i class=\"fas fa-fire-alt\" style=\"font-size: 30px;\"></i>\n                        <span class=\"text-uppercase\" style=\"font-size: 25px; font-weight: bold;\">Hot</span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"block-slider-vip\" style=\"z-index: 99\">\n                <span class=\"circle-prev\" v-on:click=\"handle_click_action('PREV')\"><i class=\"fas fa-arrow-circle-left white\" style=\"font-size: 2.4rem\"></i></span>\n                <div class=\"block-info-vip\">\n                    <h1 class=\"title-brand-vip text-uppercase\">{{brand.name}}</h1>\n                    <!-- <span class=\"label-vip\">Top 5 tea brands at Taiwan</span> -->\n                    <div class=\"btn btn-see-more margin-top\">\n                        <span class=\"text-uppercase padding-right-fix white\" v-on:click=\"handle_scroll()\">See More</span>\n                        <i class=\"fas fa-chevron-down white\"></i>\n                    </div>\n                    <div class=\"vip-image\" id=\"vip_image\">\n                        <span class=\"rectangle\" v-bind:class=\"{'selected' : position == 0}\"></span>\n                        <span class=\"rectangle\" v-bind:class=\"{'selected' : position == 1}\"></span>\n                        <span class=\"rectangle\" v-bind:class=\"{'selected' : position == 2}\"></span>\n                    </div>\n                </div>\n                <span class=\"circle-next\" v-on:click=\"handle_click_action('NEXT')\"><i class=\"fas fa-arrow-circle-right white\" style=\"font-size: 2.4rem\"></i></span>\n            </div>\n        </div>\n        <div class=\"block-consult\" v-if=\"is_vip\">\n            <div class=\"wrap-container\" style=\"padding: 0;\">\n                <h2 class=\"label-consult text-uppercase\">{{brand.slogan ? brand.slogan : 'need to consult with us ?'}}</h2>\n            </div>\n        </div>\n        <div class=\"wrap-container flex-box flex-row-center\" style=\"padding:120px 10px !important; min-height: 460px;\" v-if=\"is_vip\">\n            <div class=\"block-intro-vip\">\n                <span class=\"label-vip text-uppercase\" style=\"color: #000; font-weight: bold;\">Wellcome to {{brand.name}}</span>\n                <p class=\"text-description-brand margin-top width-full\">{{brand.introduce}}</p>\n                <p class=\"title-header text-uppercase\" style=\"padding-right: 15px; margin: 32px 0;\">our last inquiries</p>\n                <ul class=\"list-item\" v-if=\"joining_demands.length > 0\">\n                    <li class=\"joining-vip\" v-for=\"(item, index) in joining_demands\" :key=\"index\">\n                        <span style=\"margin-right:32px;\" ><i class=\"fas fa-bolt text-color-primarry\"></i> - {{item.sex}} - {{item.name}} | Ask: {{item.category}} | Budget: {{handle_return_string_money(item.budget.from.toString())}} million to {{handle_return_string_money(item.budget.to.toString())}} million</span>\n                        <span>{{handle_return_date_string(item.created_on)}}  </span>\n                    </li>\n                </ul>\n                <div class=\"list-item\" v-else style=\"justify-content: center; display:flex;\">\n                    <p class=\"text-description\">No Data</p>\n                </div>\n            </div>\n            <div class=\"block-contact-vip\">\n                <div class=\"block-sub-div\">\n                    <div class=\"logo-brand-vip\">\n                        <img :src=\"`/${brand.image_source.logo}`\" v-bind:alt=\"brand.name\" style=\"object-fit: contain\">\n                    </div>\n                    <!-- <div class=\"form-group col-group\" style=\"margin-top: 23px; height: 100%; \">\n                        <div class=\"btn btn-social margin-fix-bottom\" style=\"width: 100%; height: 45px; justify-content: flex-start; background: #00aced; border: none; margin-bottom: 8px;\" >\n                            <span style=\"display: flex; justify-content: center; align-items: center; width: 32px; height: 32px; margin: 0 0 0 20px;\">\n                                <img src=\"../../assets/image/zalo.png\" alt=\"\">\n                            </span>\n                            <p style=\"width: 100%; text-align: center; color: #FFF;\">{{$t('form_login.connect')}} Zalo</p>\n                        </div>\n                        <div class=\"btn btn-social margin-fix-bottom\" style=\"width: 100%; height: 45px; justify-content: flex-start; background: #44619d; border: none; \" >\n                            <span style=\"display: flex; justify-content: center; align-items: center; width: 32px; height: 32px; margin: 0 0 0 20px;\">\n                                <img src=\"../../assets/image/facebook.png\" alt=\"\">\n                            </span>\n                            <p style=\"width: 100%; text-align: center; color: #FFF;\">{{$t('form_login.connect')}} Facebook</p>\n                        </div>\n                    </div> -->\n                </div>\n            </div>\n        </div>\n        <div class=\"container flex-box\" style=\"max-height: 400px; flex-direction: row; align-items:center; over-flow; overflow: hidden;\" v-if=\"is_vip\">\n            <span class=\"circle-prev\" style=\"position: absolute; left: 10px;\" v-on:click=\"handle_click('PREV')\"><i class=\"fas fa-arrow-circle-left white\" style=\"font-size: 2.4rem\"></i></span>\n            <div class=\"slider-menu-vip\" id=\"list-menu\">\n                <div class=\"form-group col-group\" v-for=\"(pic, index) in brand.image_source.menu\" :key=\"index\" style=\"max-width: 20%\">\n                    <img class=\"menu-item\" :src=\"`${pic}`\" :alt=\"`${pic}`\" style=\"width: 100%\">\n                </div>\n            </div>\n            <span class=\"circle-next\" style=\"position: absolute; right: 10px;\" v-on:click=\"handle_click('NEXT')\"><i class=\"fas fa-arrow-circle-right white\" style=\"font-size: 2.4rem\"></i></span>\n        </div>\n        <div class=\"block-joining-special\" v-if=\"is_vip\">\n            <div class=\"block-title-vip\">\n                <span class=\"label-vip margin-bottom\" style=\"color: #000; font-size: 1.5rem\">------ {{brand.name}} ------</span>\n                <span class=\"text-uppercase\" style=\"font-size: 2rem; font-weight: bold\">Joining specifications</span>\n            </div>\n            <ul class=\"list-joining-special margin-top\">\n                <div v-for=\"(equiqment, index) in brand.feature\" :key=\"index\" style=\"display: flex; width: 30%; height: 100px; margin-bottom: 24px;\">\n                    <li class=\"option-vip \"  :class=\"{'primary-color' : equiqment.value == true}\">\n                        <img v-bind:src=\"`/img/${list_icon[index]}`\" :alt=\"`${list_icon[index]}`\">\n                        <span style=\"font-size: 20px; font-weight: bold; color: #FFF; letter-spacing: 1px;\">{{equiqment.content}}</span>\n                    </li>\n                </div>\n            </ul>\n        </div>\n        <div class=\"block-video-vip\" v-if=\"is_vip && brand.video_intro != 'No Info'\">\n           <iframe :src=\"`${brand.video_intro}`\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"></iframe>\n        </div>\n        <div class=\"wrap-container img-brand-header\" v-if=\"!is_vip\">\n            <div class=\"logo-brand-normal\">\n                <img :src=\"`${brand.image_source.logo}`\" v-bind:alt=\"brand.name\" style=\"object-fit: contain\">\n                <div class=\"label-circle-mobile\" v-if=\"is_hot_label\">\n                    <i class=\"fas fa-fire-alt\" ></i>\n                    <span class=\"text-uppercase label-text-hot-label\">Hot</span>\n                </div>\n            </div>\n            <div class=\"img-brand\">\n                <img :src=\"`${brand.image_source.thumbnail}`\" :alt=\"brand.name\">\n                <div class=\"label-circle\" v-if=\"is_hot_label\">\n                    <i class=\"fas fa-fire-alt\" style=\"font-size: 28px; margin-right: 0\"></i>\n                    <span class=\"text-uppercase\" style=\"font-size: 25px; font-weight: bold;\">Hot</span>\n                </div>\n            </div>\n        </div>\n       \n        <!-- INFO BRAND -->\n        <div class=\"wrap-container block-info-brand\">\n            <div class=\"info-brand\" v-if=\"!is_vip\">\n                <div class=\"header-info-brand\">\n                    <p class=\"title-brand text-uppercase label-title-brand\" > \n                    <span class=\"larger-text text-uppercase\" style=\"font-family: Cabin',sans-serif; font-weight: bold;\"> {{brand.name}} </span></p>\n                </div>\n                <div class=\"content-info-brand\">\n                    <div class=\"form-group row-group\">\n                        <p class=\"text-description-brand\">{{brand.introduce}}</p>\n                        <span class=\"box-shadow wish margin-fix-right\" v-if=\"is_owner\" :id=\"`${brand.id}`\" v-on:click=\"handle_add_wish_list(brand)\"> \n                            <input class=\"toogle-heart\" type=\"checkbox\"  :checked=\"handle_check_wish_list(brand.id)\" />\n                            <label class=\"label-toogle-heart\" >❤</label>\n                        </span>\n                    </div>\n                    <div class=\"contact-brand\">\n                        <div class=\"content-contact\">\n                            <span class=\"item-contact\">\n                                <i class=\"fas fa-money-check-alt size-icon\">\n                                    <span style=\"font-family: Cabin',sans-serif; padding:0 10px;\">Cost:</span> \n                                </i>\n                                <span class=\"price-text size-icon\" v-if=\"brand.price == 0\">Contact Us</span> \n                                <span class=\"price-text size-icon\" v-if=\"brand.price != 0\"> {{Number(brand.price).toLocaleString()}}<sup>đ</sup></span> \n                            </span>\n                            <span class=\"item-contact\">\n                                <i class=\"fas fa-map-marked-alt size-icon black\">\n                                <span class=\"size-icon black\"> Head Office: </span> {{brand.head_office}}</i>\n                            </span>\n                        </div>\n                        <div class=\"qrcode\">\n                            <img :src=\"`${brand.image_source.image_qr_code}`\" alt=\"QR Code Brand\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div v-if=\"!is_vip\" class=\"nav-section\">\n                <ul class=\"list\">\n                    <li v-if=\"events\" class=\"item-link-short\">\n                        <router-link to=\"#LASTEVENTS\">LAST EVENTS</router-link>\n                    </li>\n                    <li v-if=\"brand.feature\" class=\"item-link-short\">\n                        <router-link to=\"#OURSPECIFICATIONS\">OUR SPECIFICATIONS</router-link>\n                    </li>\n                    <li class=\"item-link-short\">\n                        <router-link to=\"#BRANDINTRODUCE\">BRAND INTRODUCE</router-link>\n                    </li>\n                    <li class=\"item-link-short\">\n                        <router-link to=\"#FRANCHISETERM\">FRANCHISE TERM</router-link>\n                    </li>\n                    <li id=\"btn-inquiry-bar\" class=\"item-link-short\">\n                        <a v-on:click=\"handle_scroll_to_top_non_vip('ONLINEONQUIRY', 'btn-inquiry-bar')\">ONLINE INQUIRY</a>\n                    </li>\n                </ul>\n            </div>\n            <div class=\"intro-brand\">\n                <div class=\"col-group flex-3 block-content-short \">\n                    <div id=\"OURSPECIFICATIONS\" v-if=\"events.length > 0\">\n                        <div class=\"block-header\">\n                            <i class=\"fas fa-newspaper\"></i>\n                            <p class=\"text-uppercase size-icon\">our last event</p>\n                        </div>\n                        <ul class=\"list\">\n                            <li class=\"item-newspaper\" v-for=\"(event, index) in events\" :key=\"index\">\n                                <span class=\"title-newspaper current\"><i class=\"far fa-bell\" style=\"padding-right: 10px;\"></i> {{event.name}} </span>\n                                <span style=\"font-family: 'Quicksand', sans-serif; font-size: 14px;\"> {{handle_format_show_date(event.created_on)}}</span>\n                            </li>   \n                        </ul>\n                    </div>\n                    <div id=\"OPTIONJOINING\" v-if=\"!is_vip\">\n                        <div class=\"block-header\">\n                            <i class=\"fas fa-star size-icon\" style=\" margin-left: 8px\"></i>\n                            <p class=\"text-uppercase size-icon\" style=\"font-weight: 900\">joining specifications</p>\n                        </div>\n                        <ul class=\"list\">\n                           <li class=\"option\" v-for=\"(equiqment, index) in brand.feature\" :key=\"index\">\n                               <span v-bind:class=\"{ 'check' : equiqment.value == true}\"><i class=\"far fa-check-circle \" style=\"padding-right: 8px;\"></i> {{equiqment.content}}</span>\n                           </li>\n                        </ul>\n                    </div>\n                    <div class=\"col-group flex-1 block-contact-mobile\" v-if=\"!is_vip\">\n                        <div class=\"block-btn-contact\">\n                            <div class=\"block-call\">\n                                <ul class=\"list col-group\" style=\"justify-content: flex-start; align-items: center;\">\n                                    <li class=\"btn btn-call\" style=\"display: flex; width: 100%;\">\n                                        <a :href=\"`tel:0000000`\" style=\"color: #FFF\">\n                                        Call Now Support\n                                        <i class=\"fas fa-phone\" style=\"padding: 0 10px; color: #FFF\"></i>\n                                        </a>\n                                    </li>\n                                    <li id=\"btn-inquiry\" class=\"btn btn-inquiry\" v-if=\"!is_vip\">\n                                        <a v-on:click=\"handle_scroll_to_top_non_vip('ONLINEONQUIRY', 'btn-inquiry')\">ONLINE INQUIRY</a>\n                                        <i class=\"fas fa-comments\" style=\"padding: 0 10px;\"></i>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                        <div class=\"col-4\" style=\"height: 300px; width: 100% !important;\" >\n                            <div class=\"list-joining header-block-product row-header\">\n                                <span class=\"circle\"><i class=\"fas fa-bolt text-color-primarry\"></i></span>\n                                <p class=\"title-header\" style=\"padding-right: 15px;\">THE LAST JOINING DEMAND</p>\n                            </div>\n                            <div class=\"list-item\" v-if=\"joining_demands.length > 0\">\n                                <div class=\"list-joining\" v-for=\"(item, index) in joining_demands\" :key=\"index\" >\n                                    <p class=\"text-overflow text-description\">{{item.sex}} | Ask: {{item.category}} | Budget: {{handle_return_string_money(item.budget.from.toString())}} million to {{handle_return_string_money(item.budget.to.toString())}} million</p>\n                                </div>\n                            </div>\n                            <div class=\"list-item\" v-else style=\"justify-content: center; display:flex;\">\n                                <p class=\"text-description\">No Data</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div id=\"BRANDINTRODUCE\" >\n                       <div class=\"block-header bg-title-header \">\n                            <i class=\"fas fa-crown size-icon\" style=\"color: #FFF; margin-left: 8px\"></i>\n                            <p class=\"text-uppercase size-icon\" style=\"font-weight: bold\">brand introduce</p>\n                        </div>\n                        <ul class=\"list\">\n                            <div class=\"form-group col-group\" v-for=\"(pic, index) in brand.image_source.image_intro\" :key=\"index\">\n                                <img :src=\"`${pic}`\" :alt=\"`${brand.name}`\">\n                            </div>\n                        </ul>\n                    </div>\n                    <div id=\"MENU\" v-if=\"!is_vip\">\n                        <div class=\"block-header bg-title-header \">\n                            <i class=\"fas fa-crown size-icon\" style=\"color: #FFF; margin-left: 8px\"></i>\n                            <p class=\"text-uppercase size-icon\" style=\"font-weight: bold;\">Menu</p>\n                        </div>\n                        <ul class=\"list\">\n                            <div class=\"form-group col-group\" v-for=\"(pic, index) in brand.image_source.menu\" :key=\"index\">\n                                <img :src=\"`./${pic}`\" :alt=\"`${brand.name}`\">\n                            </div>\n                        </ul>\n                    </div>\n                    <div id=\"FRANCHISETERM\">\n                        <div class=\"block-header bg-title-header \">\n                            <i class=\"fas fa-crown size-icon\" style=\"color: #FFF; margin-left: 8px\"></i>\n                            <p class=\"text-uppercase size-icon\" style=\"font-weight: bold;\">FRANCHISE TERM</p>\n                        </div>\n                        <ul class=\"list\">\n                            <div class=\"form-group col-group\" v-for=\"(pic, index) in brand.image_source.main_banner\" :key=\"index\">\n                                <img :src=\"`${pic}`\" :alt=\"`${brand.name}`\">\n                            </div>\n                        </ul>\n                    </div>\n                    <div id=\"ONLINEONQUIRY\">\n                        <div class=\"block-header\">\n                            <i class=\"fas fa-comments size-icon\" style=\" margin-left: 8px\"></i>\n                            <p class=\"text-uppercase\" style=\"font-weight: bold; font-size: .9rem;\">LEAVE AN INQUIRY - WE WILL CONTACT YOU </p>\n                        </div>\n                        <form class=\"form-box block-box-quiry\" @submit.prevent=\"handle_post_joining_request()\">\n                            <div class=\"form-content\" style=\"padding: 0; height: auto;\">\n                                <div class=\"form-group col-group\">\n                                    <div class=\"form-group row-block-quiry\">\n                                        <div class=\"form-group col-group col-1-3 padding-right\">\n                                            <span class=\"label text-uppercase padding-span\">Location</span>\n                                            <input type=\"text\" placeholder=\"Choose Location\" v-model=\"new_joining_request.location\" name=\"location\" readonly v-on:click=\"handle_toogle($event)\" v-validate=\"'required: true'\">\n                                            <span class=\"error-text margin-fix-top\" v-show=\"errors.has('location')\">{{errors.first('location')}}</span>\n                                        </div>\n                                        <div class=\"form-group col-group\" v-if=\"city_show\" style=\"max-height: 280px; position: absolute; top: 80px; left: 30px;\">\n                                            <ul class=\"list-city\" >\n                                                <li class=\"item-city\" v-for=\"(city,i) in list_city\" :key=\"i\" v-on:click=\"handle_select_city(i)\">\n                                                    <p>{{city.name}}</p>\n                                                </li>\n                                            </ul>\n                                        </div>\n                                        \n                                        <div class=\"form-group col-group col-1-3\" style=\"align-items: normal\">\n                                            <span class=\"label text-uppercase padding-span\">store front</span>\n                                            <div class=\"form-group row-group-radio-btn\">\n                                                <div class=\"form-group radio-btn\">\n                                                    <input type=\"radio\" name=\"check\" :value=\"true\" v-model=\"new_joining_request.store_found\" style=\"width: 30px;\">\n                                                    <p class=\"label-option\"> Found</p>\n                                                </div>\n                                                <div class=\"form-group radio-btn row-group\">\n                                                    <input type=\"radio\" name=\"check\" :value=\"false\" v-model=\"new_joining_request.store_found\" style=\"width: 30px;\">\n                                                    <p class=\"label-option\">Still looking for</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class=\"form-group col-group col-1-3 padding-left\">\n                                            <span class=\"label text-uppercase padding-span\">Openning time</span>\n                                            <datepicker placeholder=\"When will you ready to launch ?\" class=\"date_picker\" :format=\"format\" v-model=\"new_joining_request.open_time\"></datepicker>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"form-group col-group col-2-3\">\n                                    <span class=\"label text-uppercase padding-span\">{{$t('form_joining.your_budget')}}</span>\n                                    <div class=\"form-group row-group row-block-quiry\" >\n                                        <div class=\"form-group col-group\" style=\"margin-right: 30px;\">\n                                            <span class=\"label margin-bottom\" style=\"padding-left: 20px\">From</span>\n                                            <vue-numeric  separator=\",\" v-model=\"new_joining_request.budget.from\" aria-placeholder=\"Budget From\"></vue-numeric>\n                                            <span class=\"error-text margin-fix-top\" v-show=\"errors.has('from')\">{{errors.first('from')}}</span>\n                                        </div>\n                                        <div class=\"form-group col-group\">\n                                            <span class=\"label margin-bottom\" style=\"padding-left: 20px\">To</span>\n                                            <vue-numeric  separator=\",\" v-model=\"new_joining_request.budget.to\" aria-placeholder=\"Budget To\"></vue-numeric>\n                                            <span class=\"error-text margin-fix-top\" v-show=\"errors.has('to')\">{{errors.first('to')}}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"form-group col-group\" style=\"padding-top: 15px;\">\n                                    <span class=\"label text-uppercase padding-span\">Contact Infomation</span>\n                                    <div class=\"form-group col-group block-sex\">\n                                        <div class=\"form-group row-group-radio-btn\">\n                                            <div class=\"form-group radio-btn\">\n                                                <input type=\"radio\" name=\"sex\" value=\"Mr\" v-model=\"new_joining_request.sex\" style=\"width: 30px;\">\n                                                <p class=\"label-option \"> Mr</p>\n                                            </div>\n                                            <div class=\"form-group radio-btn row-group\">\n                                                <input type=\"radio\" name=\"sex\" value=\"Mrs\" v-model=\"new_joining_request.sex\" style=\"width: 30px;\">\n                                                <p class=\"label-option \">Mrs</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"form-group row-block-quiry\" >\n                                        <div class=\"form-group col-group col-2-3\">\n                                            <div class=\"form-group row-group row-block-quiry\" style=\"margin-bottom: 10px;\">\n                                                <div class=\"form-group col-group padding-right\">\n                                                    <input type=\"text\" placeholder=\"Your name (*)\" name=\"name\" v-model=\"new_joining_request.name\" v-validate=\"'required:true'\">\n                                                    <span class=\"error-text margin-fix-top\" v-show=\"errors.has('name')\">{{errors.first('name')}}</span>\n                                                </div>\n                                                <div class=\"form-group col-group\">\n                                                    <input type=\"text\" placeholder=\"Your email (*)\" name=\"email\" v-model=\"new_joining_request.email\"  v-validate=\"'required:true|email'\">  \n                                                    <span class=\"error-text margin-fix-top\" v-show=\"errors.has('email')\">{{errors.first('email')}}</span>\n                                                </div>\n                                            </div>\n                                            \n                                            <div class=\"form-group col-group\">\n                                                <span class=\"label text-uppercase padding-span\" style=\"font-size: 14px; margin-bottom: 8px;\">Message</span>\n                                                <textarea name=\"message\" v-model=\"new_joining_request.message\" cols=\"30\" rows=\"10\" style=\"padding: 10px;\" :placeholder=\"`${this.$t('form_joining.leave_message')}`\" v-validate=\"'required:true'\"></textarea>\n                                                <span class=\"error-text margin-fix-top\" v-show=\"errors.has('message')\">{{errors.first('message')}}</span>\n                                            </div>\n                                        </div>\n                                        <div class=\"form-group col-group col-1-3\">\n                                            <input type=\"text\" name=\"phone_number\" placeholder=\"Phone number\" v-model=\"new_joining_request.phone_number\" style=\"margin-bottom : 10px;\" v-validate=\"'required: true'\">\n                                            <span class=\"error-text margin-fix-top\" v-show=\"errors.has('phone_number')\">{{errors.first('phone_number')}}</span>\n                                            <input type=\"text\" name=\"zalo\" placeholder=\"Zalo number\" v-model=\"new_joining_request.zalo\" style=\"margin: 16px 0;\" v-validate=\"'required: true'\">\n                                            <span class=\"error-text margin-fix-top\" v-show=\"errors.has('zalo')\">{{errors.first('zalo')}}</span>\n                                            <div class=\"form-group col-group\">\n                                                <span class=\"label text-uppercase\" style=\"font-size: 14px; margin-bottom: 8px;\">Time Free Call</span>\n                                                <select class=\"block_selected\" v-model=\"new_joining_request.time_contact\">\n                                                    <option value=\"0\">Morning</option>\n                                                    <option value=\"1\">Afternoon</option>\n                                                    <option value=\"2\">Evening</option>\n                                                </select>\n                                            </div>\n                                            <span class=\"error-text margin-fix-top\" v-show=\"errors.has('timer_call')\">{{errors.first('timer_call')}}</span>\n                                            <button type=\"submit\" class=\"btn btn-submit-joining btn-submit-joining-mobile\" :disabled=\"errors.length > 0\">SUBMIT DEMAND</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <div class=\"col-group flex-1 block-contact-desktop\"  v-if=\"!is_vip\">\n                    <div class=\"block-btn-contact\">\n                        <div class=\"block-call\">\n                            <ul class=\"list col-group\" style=\"justify-content: flex-start; \">\n                                <li class=\"btn btn-call\">\n                                    <a :href=\"`tel:0000000`\" style=\"color: #FFF\">\n                                    Call Now Support\n                                    <i class=\"fas fa-phone\" style=\"padding: 0 10px; color: #FFF\"></i>\n                                    </a>\n                                </li>\n                                <li id=\"btn-inquiry\" class=\"btn btn-inquiry\" v-if=\"!is_vip\">\n                                    <a v-on:click=\"handle_scroll_to_top_non_vip('ONLINEONQUIRY', 'btn-inquiry')\">ONLINE INQUIRY</a>\n                                    <i class=\"fas fa-comments\" style=\"padding: 0 10px;\"></i>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div class=\"col-4\" style=\"height: 300px; width: 100% !important;\" >\n                        <div class=\"list-joining header-block-product row-header\">\n                            <span class=\"circle\"><i class=\"fas fa-bolt text-color-primarry\"></i></span>\n                            <p class=\"title-header\" style=\"padding-right: 15px;\">THE LAST JOINING DEMAND</p>\n                        </div>\n                        <div class=\"list-item\" v-if=\"joining_demands.length > 0\">\n                            <div class=\"list-joining\" v-for=\"(item, index) in joining_demands\" :key=\"index\" >\n                                <p class=\"text-overflow text-description\">{{item.sex}} | Ask: {{item.category}} | Budget: {{handle_return_string_money(item.budget.from.toString())}} million to {{handle_return_string_money(item.budget.to.toString())}} million</p>\n                            </div>\n                        </div>\n                        <div class=\"list-item\" v-else style=\"justify-content: center; display:flex;\">\n                            <p class=\"text-description\">No Data</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <block_footer></block_footer>\n    </div>\n</template>\n\n<style scoped>\n.bg-vip-1 {display: flex; flex-direction: column; background-position: center; background-size: cover; width: 100%; background-color: black;}\n.bg-vip-1 img { opacity: 0.5;}\n.block-consult {display: flex; justify-content: flex-start; align-items: center; width: 100%; height: 160px; background-color: black; background: url('../../assets/image/consult_bg.png') no-repeat; background-size: 100% 100%; }\n</style>\n\n<script>\nimport block_footer from '../Units/Block_Footer';\nimport block_nav from '../Units/BlockNav';\nimport block_nav_vip from '../Units/Block_Nav_Vip';\nimport { Promise } from 'q';\nimport { HTTP } from '../../http-common';\nimport { router } from '../../routers';\nimport datepicker from 'vuejs-datepicker';\nimport { socket_bus} from '../../main'\n\nexport default {\n    components: {\n        block_footer, block_nav,datepicker, block_nav_vip\n    },\n    data() {\n        return {\n            format: 'dd/MM/yyyy',\n            id_brand: '',\n            events: [],\n            brand: { id: \"\", name: \"\", image_source: {logo: \"\", thumbnail: \"\", image_intro: \"\", main_banner: \"\"}, id_category: \"\", id_customer: \"\",introduce: \"\",\n            location: [], phone_number: \"\", terms: [], website: \"\", priority: 0, price: 0, level : 1, email: \"\", feauture: \"\", event: []},\n            joining_demands: [],\n            new_joining_request: {id_brand: \"\", sex: \"\", name: \"\", email: \"\", location: \"\", budget:{from: 0, to: 0}, store_front: false, open_time: new Date(Date.now() + 7 * 60 * 60 * 1000), phone_number: \"\", zalo: \"\", time_contact: \"0\", message: \"\"},\n            list_city:[],\n            city_show: false,\n            is_hot_label: false,\n            city_choose: {_id: '', name: '-- Select City --'},\n            customer: {},\n            wish_list_current: [],\n            is_wish_list: false,\n            list_icon: [],\n            list_image_vip: [],\n            i:0,\n            position: 0,\n            is_owner: true,\n            is_vip: false\n        }\n    },\n    methods: {\n        handle_scroll() {\n            var startTime = null\n            var duration = 800\n            function animation(current_time) {\n                if(startTime === null) startTime = current_time\n                var timeElapsed = current_time - startTime\n                var run = ease(timeElapsed, 0, 1000, duration)\n                window.scrollTo(0, run);\n\n                if(timeElapsed < duration) {\n                    requestAnimationFrame(animation);\n                }\n            }\n\n            function ease (t, b, c, d) {\n                t /= d/2;\n                if (t < 1) return c/2 * t * t + b;\n                t--;\n                return -c/2 * ( t * (t - 2) - 1) + b;\n            }\n\n            requestAnimationFrame(animation)\n        },\n        handle_check_wish_list(id_brand) {\n            return this.wish_list_current.indexOf(id_brand) == -1 ? false : true\n        },\n        handle_click(action) {\n            var list_brand_element = document.getElementById('list-menu')\n            var count = document.querySelectorAll('#list-menu .menu-item').length * 270 / 1080\n            var marginLeft = 1080\n            \n            switch(action) {\n                case 'NEXT':\n                    this.i = (this.i == count - 1) ? 0 :  this.i + 1\n                    break;\n                case 'PREV':\n                    this.i = ( this.i == 0) ? 0 :  this.i - 1\n                    break;\n            }\n            setTimeout(() => {\n                list_brand_element.style.marginLeft = \"-\" + (marginLeft *  this.i) + \"px\";\n            }, 200)\n        },\n        handle_click_action(action) {\n           \n            switch(action) {\n                case 'NEXT':\n                    this.position = this.position < 2 ? this.position + 1 : 0\n                    break;\n                case 'PREV':\n                    this.position = this.position > 0 ? this.position - 1 : 2\n                    break;\n            }\n            document.getElementById('bgvip').style.backgroundImage = `url('${this.list_image_vip[this.position]}')`\n        },\n        handle_get_info_brand(id_brand) {\n            return new Promise((resolve, reject) => {\n                HTTP.get('/brands/' + id_brand).then(result => {\n                    resolve(result)\n                    if(result.data.status == 200) {\n                        this.brand =  result.data.data\n                        this.events = this.brand.events\n                        this.handle_get_joining_demands(this.brand.id_category)\n                        this.is_hot_label = this.brand.hotlabel\n                        this.is_vip = this.brand.level == 'NORMAL' ? false : true\n                        this.list_image_vip = this.brand['image_source'].bg_vip\n                    } else {\n                        this.$router.push('/')\n                    }\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log('Error: ' + error);\n                })\n            })\n        },\n        handle_return_date_string(date) {\n            return new Date(date).getDate() + '/' + (new Date(date).getMonth() + 1) + '/' + new Date(date).getFullYear()\n        },\n        handle_add_wish_list(brand) {\n            var brand_wish = document.getElementById(brand.id)\n            var element_first = brand_wish.children[0]\n            if(localStorage.getItem('access_token')) {\n                if(element_first.checked) {\n                    HTTP.patch(`/wish/remove-user/brand=${brand.id}&customer=${this.customer.id}`).then(result => {\n                        alert(result.data.message)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = false\n                            brand_wish.children[1].style.color = '#F3A8B7'\n                        }                       \n                    }).catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                } else if(!element_first.checked){\n                    HTTP.patch('/wish/' + brand.id, {id_customer: this.customer.id}).then(result => {\n                        setTimeout(() => { alert(result.data.message)}, 100)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = true\n                            this.brand = brand\n                        }\n                    })\n                    .catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                }\n            } else {\n                router.push('/login')\n            }\n        },\n        handle_get_joining_demands(category) {\n            return new Promise((resolve, reject) => {\n                HTTP.get(`joining-request/brand/${this.brand.id}`).then(result => {\n                    resolve(result)\n                    this.joining_demands = result.data.status == 200 ? result.data.data : []\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log(error)\n                })\n            })\n        },\n        handle_select_city(i) {\n            this.city_choose = this.list_city[i]\n            this.city_show = false;\n            this.new_joining_request.location = this.new_joining_request.location.length == 0 ? this.new_joining_request.location += this.city_choose.name : this.new_joining_request.location += ', ' + this.city_choose.name\n        },\n        changeHandler() {\n            this.new_joining_request.time_contact = this.timer_call.HH + ':' + this.timer_call.mm\n        },\n        handle_return_string_money(text) {\n            const length = text.length\n           if(length > 6) {\n               return text.substr(0, text.length - 6) \n           } else if(length == 6) {\n               return '0.' + text.substr(0, 1)\n           }\n        },\n        handle_toogle($event) {\n            this.city_show = !this.city_show\n            $event.stopPropagation();\n        },\n        handle_post_joining_request() {\n            this.$validator.validateAll()\n            if(!this.errors.any()) {\n                this.new_joining_request.id_brand = this.brand.id\n                return new Promise((resolve, reject) => {\n                    HTTP.post('/joining-request', this.new_joining_request).then(result => {\n                        resolve(result)\n                        if(result.data.status == 201) {\n                            socket_bus.$emit('SHOW_MESSAGE', 'Post your request Success')\n                            setTimeout(() => { window.location.reload()}, 3000)\n                        } else {\n                            socket_bus.$emit('SHOW_MESSAGE', 'Post your request Fail')\n                        }\n                    })\n                    .catch(error => {\n                        reject(error)\n                        console.log(error)\n                    })\n                })\n            } else {\n                alert('Post Your Request Brand FAIL')\n            }\n        },\n        handle_scroll_to_top(item) {\n            var online_inquery = document.getElementById(item);\n            var startTime = null;\n            var duration = 1000\n            var start_position = parseFloat(window.pageYOffset);\n            var target_position = parseFloat(online_inquery.offsetTop); \n            var distance = (target_position - 10)\n            function animation(current_time) {\n                if(startTime === null) startTime = current_time\n                var timeElapsed = current_time - startTime\n                var run = ease(timeElapsed, start_position, distance, duration)\n                window.scrollTo(0, run);\n\n                if(timeElapsed < duration) {\n                    requestAnimationFrame(animation);\n                }\n            }\n\n            function ease (t, b, c, d) {\n                t /= d/2;\n                if (t < 1) return c/2 * t * t + b;\n                t--;\n                return -c/2 * ( t * (t - 2) - 1) + b;\n            }\n\n            requestAnimationFrame(animation)\n        },\n        handle_scroll_to_top_non_vip(item, button) {\n            const online_inquery = document.getElementById(item);\n            const btn_click = document.getElementById(button);\n             var startTime = null;\n            var duration = 1000\n            const start_position =  parseFloat(btn_click.offsetTop);\n            const target_position = parseFloat(online_inquery.offsetTop);\n            const distance = (target_position - start_position - 100)\n            function animation(current_time) {\n                if(startTime === null) startTime = current_time\n                var timeElapsed = current_time - startTime\n                var run = ease(timeElapsed, start_position, distance, duration)\n                window.scrollTo(0, run);\n\n                if(timeElapsed < duration) {\n                    requestAnimationFrame(animation);\n                }\n            }\n\n            function ease (t, b, c, d) {\n                t /= d/2;\n                if (t < 1) return c/2 * t * t + b;\n                t--;\n                return -c/2 * ( t * (t - 2) - 1) + b;\n            }\n\n            requestAnimationFrame(animation)\n        },\n        handle_get_wish_list(id_customer) {\n            HTTP.get('/customers/' + id_customer).then(result => {\n                localStorage.removeItem('customer')\n                localStorage.setItem('customer', JSON.stringify(result.data))\n                this.customer = result.data\n                this.wish_list_current = result.data.wish_list\n                this.wish_list_current.map(item => { this.is_wish_list = item == this.id_brand ? true : false })  \n            }).catch(error => {\n                console.log(error)\n            }) \n        },\n        handle_format_show_date(date) {\n            const value_date = new Date(date)\n            return `${value_date.getDate() < 10 ? `0${value_date.getDate()}` :value_date.getDate()}/${value_date.getMonth() + 1}/${value_date.getFullYear()}`\n        }\n    },\n    mounted() {\n        this.$nextTick(() => {\n            window.addEventListener('click', () => {\n                if(this.city_show) {\n                    this.city_show = false\n                }\n            })\n        })\n    },  \n    created() {\n        this.id_brand = this.$route.params.id\n        if(JSON.parse(localStorage.getItem('customer'))) {\n            this.customer = JSON.parse(localStorage.getItem('customer'))\n            this.handle_get_wish_list(this.customer.id)\n        }\n        this.handle_get_info_brand(this.$route.params.id)\n       \n        this.$store.dispatch('get_cities').then(result => {\n            this.list_city = result.data\n        })\n        this.list_icon = ['Equipments.png','Need-Crowd.png', 'Low-Risk.png', 'Free-Franchise-Fee.png', 'Have-Decorated.png', 'Free-Signing.png', 'Exemption.png', 'Education.png', 'Free-Margin.png']\n    }\n}\n\n</script>"]}]}