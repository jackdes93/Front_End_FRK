{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/ForgotPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/ForgotPassword.vue","mtime":1572286796852},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport block_nav from '../Units/BlockNav';\nimport block_footer from '../Units/Block_Footer';\nimport block_alert from '../Units/Block_Notification';\nimport { socket_bus } from '../../main'\nimport VueRecaptcha from 'vue-recaptcha'\nimport { HTTP } from '../../http-common';\nimport { router } from '../../routers';\n\nexport default {\n    components: {\n        block_nav, block_footer,block_alert, VueRecaptcha\n    },\n    data() {\n        return {\n            email: '',\n            token_recaptcha: null,\n        }\n    },\n    methods: {\n        handle_verify: function(response) {\n           this.token_recaptcha = response\n        },\n        handle_expired: function () {\n            this.$refs.recaptcha.reset()\n        },\n        handle_load() {\n            this.$recaptchaLoaded().then(() => {\n\n            })\n        },\n        handle_send_link_reset() {\n            if(this.token_recaptcha != null) {\n                this.$validator.validateAll()\n                if(!this.errors.any()) {\n                    return new Promise((resolve, reject) => {\n                        HTTP.post(`/reset-password`, {email: this.email}).then(result => {\n                            resolve(result)\n                            if(result.data.status == 201) {\n                                socket_bus.$emit('SHOW_MESSAGE', {message: 'Your link reset password have been sent to your email'})\n                                setTimeout(() => {\n                                    router.push('/')\n                                }, 2000)\n                            } else {\n                                socket_bus.$emit('SHOW_MESSAGE', {message: 'Email wrong or not exist. Please check again'})\n                            }   \n                        }).catch(error => {\n                            reject(error)\n                            console.log(error);\n                        })\n                    })\n                }\n            } else {\n                socket_bus.$emit('SHOW_MESSAGE', {message: 'Please check again capcha'})\n            }\n        }\n    },\n    created() {\n\n    }\n}\n",{"version":3,"sources":["ForgotPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ForgotPassword.vue","sourceRoot":"src/components/Pages","sourcesContent":["<template>\n   <div>\n        <block_nav></block_nav>\n        <div class=\"flex-col-center\" style=\"display: flex; margin: 60px 0;\">\n            <div class=\"block-form flex-col-center\">\n                <form class=\"form-login\" @submit.prevent=\"handle_send_link_reset\">\n                    <div class=\"form-header\">\n                        <p class=\"title-form\">Forgot Password</p>\n                    </div>\n                    <div class=\"form-content\" style=\"height: auto; flex: 1; padding: 0;  margin-top: 20px;\">\n                        <div class=\"form-group margin-bottom col-group\">\n                            <div class=\"form-group\">\n                                <input type=\"text\" name=\"email\" placeholder=\"Email\" v-model=\"email\" v-validate=\"'required:true|email'\">\n                            </div>\n                            <span class=\"error-text margin-fix-top\" v-show=\"errors.has('email')\">{{errors.first('email')}}</span>\n                        </div>\n                        <vue-recaptcha id=\"capcah\" sitekey=\"6LeeM74UAAAAAJ71ru17H2h-hReSNO_07eNNm7Is\" :loadRecaptchaScript=\"true\" @verify=\"handle_verify\" @expired=\"handle_expired\" ref=\"recaptcha\" ></vue-recaptcha >\n\n                        <div class=\"form-group margin-top\" >\n                            <button type=\"submit\" class=\"btn btn-login bg-title-header\" :disabled=\"errors.length > 0\"   style=\"width: 100%; border: none;\">Send Link Reset</button>\n                        </div>\n                    </div>\n                    \n                </form>\n            </div>\n        </div>\n        <block_footer></block_footer>\n        <block_alert></block_alert>\n    </div>\n   \n</template>\n\n<script>\nimport block_nav from '../Units/BlockNav';\nimport block_footer from '../Units/Block_Footer';\nimport block_alert from '../Units/Block_Notification';\nimport { socket_bus } from '../../main'\nimport VueRecaptcha from 'vue-recaptcha'\nimport { HTTP } from '../../http-common';\nimport { router } from '../../routers';\n\nexport default {\n    components: {\n        block_nav, block_footer,block_alert, VueRecaptcha\n    },\n    data() {\n        return {\n            email: '',\n            token_recaptcha: null,\n        }\n    },\n    methods: {\n        handle_verify: function(response) {\n           this.token_recaptcha = response\n        },\n        handle_expired: function () {\n            this.$refs.recaptcha.reset()\n        },\n        handle_load() {\n            this.$recaptchaLoaded().then(() => {\n\n            })\n        },\n        handle_send_link_reset() {\n            if(this.token_recaptcha != null) {\n                this.$validator.validateAll()\n                if(!this.errors.any()) {\n                    return new Promise((resolve, reject) => {\n                        HTTP.post(`/reset-password`, {email: this.email}).then(result => {\n                            resolve(result)\n                            if(result.data.status == 201) {\n                                socket_bus.$emit('SHOW_MESSAGE', {message: 'Your link reset password have been sent to your email'})\n                                setTimeout(() => {\n                                    router.push('/')\n                                }, 2000)\n                            } else {\n                                socket_bus.$emit('SHOW_MESSAGE', {message: 'Email wrong or not exist. Please check again'})\n                            }   \n                        }).catch(error => {\n                            reject(error)\n                            console.log(error);\n                        })\n                    })\n                }\n            } else {\n                socket_bus.$emit('SHOW_MESSAGE', {message: 'Please check again capcha'})\n            }\n        }\n    },\n    created() {\n\n    }\n}\n</script>"]}]}