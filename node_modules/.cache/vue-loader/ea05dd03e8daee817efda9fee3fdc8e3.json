{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/Admin/Pages/SettingPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/Admin/Pages/SettingPage.vue","mtime":1574584811049},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { HTTP_ADMIN } from '../../../../http-common';\nimport { socket_bus } from '../../../../main';\nimport i18n from '@/lang/i18n.js'\n\nexport default {\n    data() {\n        return {\n            support_codes: [],\n            code_selected: {},\n            new_code: {},\n            is_add: false,\n            is_edit: false,\n            lang_current: ''\n        }\n    },\n    methods: {\n        handle_show_content_support(item) {\n            switch(this.lang_current) {\n                case 'en':\n                    return item.name_en\n                case 'vi':\n                    return item.name_vi\n                case 'tw':\n                    return item.name_tw\n            }\n        },\n        handle_get_support_code() {\n            return new Promise((resolve, reject) => {\n                HTTP_ADMIN.get('/support-code').then(result => {\n                    resolve(result)\n                    this.support_codes = result.data.status == 200 ? result.data.data : []\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log('Error Support Code: ' + error);\n                })\n            })\n        },\n        handle_add_support_code() {\n            return new Promise((resolve, reject) => {\n                HTTP_ADMIN.post('/support-code', this.new_code).then(result => {\n                    if(result.status == 201) {\n                        resolve(result)\n                        this.support_codes.push(result.data.data)\n                        this.is_add = false\n                        this.new_code = {}\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Add Support Code Success', is_redirect: true, brand: result.data.data})\n                    } else {\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Add Support Code Fail', is_redirect: false, brand: result.data.data})\n                    }\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log('Error Support Code: ' + error);\n                })\n            })\n        },\n        handle_close_form() {\n            this.is_edit = false\n            this.new_code = {}\n        },\n        handle_detail_code(item) {\n            this.code_selected = item\n            this.is_edit = true\n        },\n        handle_update_support_code() {\n            return new Promise((resolve, reject) => {\n                HTTP_ADMIN.patch('/support-code/' + this.code_selected.id, this.code_selected).then(result => {\n                    if(result.status == 200) {\n                        resolve(result)\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Update Support Code Success', is_redirect: false, brand: result.data.data})\n                        this.is_edit = false\n                        setTimeout(() => { window.location.reload()}, 2000)\n                    } else {\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Update Support Code Fail', is_redirect: false, brand: result.data.data})\n                    }\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log('Error Support Code: ' + error);\n                })\n            })\n        },\n        handle_remove_code(item) {\n            socket_bus.$emit('DELETE_SUP_CODE', {data: item, is_show: true, brand: item, message: 'Delete ?'})\n        }\n    },\n    created() {\n        this.handle_get_support_code()\n        socket_bus.$on('RESPONSE_DELETE_SUP', result => {\n            if(result.is_delete) {               \n                HTTP_ADMIN.delete('/support-code/' + result.data.id).then(final => {\n                    if(final.data.status == 200) {\n                        this.support_codes.splice(this.support_codes.indexOf(result.data), 1)\n                    }\n                })\n            }\n        })\n\n        if(localStorage.getItem('lang')) {\n            this.lang_current = localStorage.getItem('lang')\n        } else {\n            this.lang_current = 'en'\n        }\n    }\n}\n",{"version":3,"sources":["SettingPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SettingPage.vue","sourceRoot":"src/components/Pages/Admin/Pages","sourcesContent":["<template>\n    <div class=\"flex-box padding-full block-custom-header flex-row-center\">\n        <div class=\"block-custom col-12 padding-fix-lr box-shadow margin-fix-right\" style=\"max-height: 600px; background: #EDEDED; width:86%; \">\n            <div class=\"block-header bg-title-header padding-full header-fix\">\n                <p class=\"title-form\"> Support Code</p>\n            </div>\n            <div class=\"form-group row-group \" style=\"justify-content: flex-end; margin-bottom: 8px;\">\n                <button class=\"btn btn-signup primary-color\" style=\"color: #FFF; \" v-on:click=\"is_add = true\">New Support Code</button>\n            </div>\n            <div class=\"form-group row-group width-full\">\n                <div class=\"block-item-row-header\" style=\"max-width: 92px !important\">\n                    <p class=\"label text-color-second \">No.</p>\n                </div>\n                <div class=\"block-item-row-header\" >\n                    <p class=\"label text-color-second \">Name</p>\n                </div>\n                <div class=\"block-item-row-header\" style=\"max-width: 140px !important;\">\n                    <p class=\"label text-color-second \">Action</p>\n                </div>\n            </div>\n            <div class=\"block-form\" style=\"padding: 0 8px 16px 8px;\">\n                <div class=\"form-group row-group border-bottom-ol padding-full\" v-if=\"support_codes.length == 0\">\n                    <span class=\"label text-center width-full\">No Data</span>\n                </div>\n                <div class=\"form-group row-group border-bottom-ol padding-full row-animation\" v-else v-for=\"(code, index) in support_codes\" :key=\"index\">\n                    <div class=\"block-item-row \" style=\"max-width: 72px !important\">\n                        <p class=\"label-cell \">{{index + 1}}</p>\n                    </div>\n                    <div class=\"block-item-row\">\n                        <p class=\"label-cell \">{{handle_show_content_support(code)}}</p>\n                    </div>\n                    <div class=\"block-item-row\" style=\"max-width: 140px !important;\">\n                        <div class=\"form-group flex-row-center\">\n                            <a class=\"label-cell\" v-on:click=\"handle_detail_code(code)\">Edit</a>\n                        </div>\n                        <div class=\"form-group \">\n                            <a class=\"label-cell\" v-on:click=\"handle_remove_code(code)\">Remove</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"block-model\" style=\"background: rgba(0,0,0,.5)\" v-if=\"is_add\">\n            <div class=\"block-alert padding-full\">\n                <div class=\"block-header bg-title-header padding-full header-fix width-full\">\n                    <p class=\"title-form\">Add Item</p>\n                </div>\n                <form class=\"block-form\" @submit.prevent=\"handle_add_support_code\">\n                    <div class=\"form-group col-group\">\n                        <span class=\"label-span margin-bottom\">Name </span>\n                        <input type=\"text\" class=\"border-bottom-ol margin-bottom\" name=\"name_code\" v-model=\"new_code.name_en\" v-validate=\"'required: true'\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('name_code')\">{{errors.first('name_code')}}</span>\n                    </div>\n                    <div class=\"form-group col-group\">\n                        <span class=\"label-span margin-bottom\">名稱 </span>\n                        <input type=\"text\" class=\"border-bottom-ol margin-bottom\" name=\"name_code_tw\" v-model=\"new_code.name_tw\" v-validate=\"'required: true'\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('name_code_tw')\">{{errors.first('name_code_tw')}}</span>\n                    </div>\n                    <div class=\"form-group col-group\">\n                        <span class=\"label-span margin-bottom\">Tên </span>\n                        <input type=\"text\" class=\"border-bottom-ol margin-bottom\" name=\"name_code_vi\" v-model=\"new_code.name_vi\" v-validate=\"'required: true'\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('name_code_vi')\">{{errors.first('name_code_vi')}}</span>\n                    </div>\n                    <div class=\"form-group row-group\" style=\"justify-content: center;\">\n                        <div class=\"btn btn-cancel margin-fix-right\" style=\"color: #ED6B28; border: 1px solid #ED6B28\" v-on:click=\"is_add = false\">CANCEL</div>\n                        <button class=\"btn btn-signup primary-color\" style=\"color: #FFF\">SAVE</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n        <div class=\"block-model\" style=\"background: rgba(0,0,0,.5)\" v-if=\"is_edit\">\n            <div class=\"block-alert padding-full\">\n                <div class=\"block-header bg-title-header padding-full header-fix width-full\">\n                    <p class=\"title-form\">{{code_selected._id}}</p>\n                </div>\n                <form class=\"block-form\" @submit.prevent=\"handle_update_support_code\">\n                    <div class=\"form-group col-group\">\n                        <span class=\"label-span margin-bottom\">Name </span>\n                        <input type=\"text\" class=\"border-bottom-ol margin-bottom\" name=\"name_code\" v-model=\"code_selected.name_en\" v-validate=\"'required: true'\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('name_code')\">{{errors.first('name_code')}}</span>\n                    </div>\n                    <div class=\"form-group col-group\">\n                        <span class=\"label-span margin-bottom\">名稱 </span>\n                        <input type=\"text\" class=\"border-bottom-ol margin-bottom\" name=\"name_code_tw\" v-model=\"code_selected.name_tw\" v-validate=\"'required: true'\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('name_code_tw')\">{{errors.first('name_code_tw')}}</span>\n                    </div>\n                    <div class=\"form-group col-group\">\n                        <span class=\"label-span margin-bottom\">Tên </span>\n                        <input type=\"text\" class=\"border-bottom-ol margin-bottom\" name=\"name_code_vi\" v-model=\"code_selected.name_vi\" v-validate=\"'required: true'\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('name_code_vi')\">{{errors.first('name_code_vi')}}</span>\n                    </div>\n                    <div class=\"form-group row-group\" style=\"justify-content: center;\">\n                        <div class=\"btn btn-cancel margin-fix-right\" style=\"color: #ED6B28; border: 1px solid #ED6B28\" v-on:click=\"handle_close_form()\">CANCEL</div>\n                        <button class=\"btn btn-signup primary-color\" style=\"color: #FFF\">SAVE</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { HTTP_ADMIN } from '../../../../http-common';\nimport { socket_bus } from '../../../../main';\nimport i18n from '@/lang/i18n.js'\n\nexport default {\n    data() {\n        return {\n            support_codes: [],\n            code_selected: {},\n            new_code: {},\n            is_add: false,\n            is_edit: false,\n            lang_current: ''\n        }\n    },\n    methods: {\n        handle_show_content_support(item) {\n            switch(this.lang_current) {\n                case 'en':\n                    return item.name_en\n                case 'vi':\n                    return item.name_vi\n                case 'tw':\n                    return item.name_tw\n            }\n        },\n        handle_get_support_code() {\n            return new Promise((resolve, reject) => {\n                HTTP_ADMIN.get('/support-code').then(result => {\n                    resolve(result)\n                    this.support_codes = result.data.status == 200 ? result.data.data : []\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log('Error Support Code: ' + error);\n                })\n            })\n        },\n        handle_add_support_code() {\n            return new Promise((resolve, reject) => {\n                HTTP_ADMIN.post('/support-code', this.new_code).then(result => {\n                    if(result.status == 201) {\n                        resolve(result)\n                        this.support_codes.push(result.data.data)\n                        this.is_add = false\n                        this.new_code = {}\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Add Support Code Success', is_redirect: true, brand: result.data.data})\n                    } else {\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Add Support Code Fail', is_redirect: false, brand: result.data.data})\n                    }\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log('Error Support Code: ' + error);\n                })\n            })\n        },\n        handle_close_form() {\n            this.is_edit = false\n            this.new_code = {}\n        },\n        handle_detail_code(item) {\n            this.code_selected = item\n            this.is_edit = true\n        },\n        handle_update_support_code() {\n            return new Promise((resolve, reject) => {\n                HTTP_ADMIN.patch('/support-code/' + this.code_selected.id, this.code_selected).then(result => {\n                    if(result.status == 200) {\n                        resolve(result)\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Update Support Code Success', is_redirect: false, brand: result.data.data})\n                        this.is_edit = false\n                        setTimeout(() => { window.location.reload()}, 2000)\n                    } else {\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Update Support Code Fail', is_redirect: false, brand: result.data.data})\n                    }\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log('Error Support Code: ' + error);\n                })\n            })\n        },\n        handle_remove_code(item) {\n            socket_bus.$emit('DELETE_SUP_CODE', {data: item, is_show: true, brand: item, message: 'Delete ?'})\n        }\n    },\n    created() {\n        this.handle_get_support_code()\n        socket_bus.$on('RESPONSE_DELETE_SUP', result => {\n            if(result.is_delete) {               \n                HTTP_ADMIN.delete('/support-code/' + result.data.id).then(final => {\n                    if(final.data.status == 200) {\n                        this.support_codes.splice(this.support_codes.indexOf(result.data), 1)\n                    }\n                })\n            }\n        })\n\n        if(localStorage.getItem('lang')) {\n            this.lang_current = localStorage.getItem('lang')\n        } else {\n            this.lang_current = 'en'\n        }\n    }\n}\n</script>"]}]}