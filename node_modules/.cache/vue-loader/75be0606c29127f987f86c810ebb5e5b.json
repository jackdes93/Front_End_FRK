{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/Admin/Pages/ReportCallBack.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/Admin/Pages/ReportCallBack.vue","mtime":1571857444661},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Vue from 'vue';\nimport { HTTP } from '../../../../http-common'\nimport datepicker from 'vuejs-datepicker';\nimport JsonExcel from 'vue-json-excel'\n\nVue.component('download-excel', JsonExcel)\nexport default {\n    components: { datepicker},\n    data() {\n        return {\n            format: 'dd/MM/yyyy',\n            id_brand: null,\n            date_from: '',\n            titles: [],\n            date_to: '',\n            name_file: '',\n            json_fields: {\n                'DATE CREATE' : 'date_created',\n                'NAME' : 'name',\n                'EMAIL' : 'email',\n                'LOCATION': 'location',\n                'BUDGET' : 'budget'\n            },\n            json_data: [],\n            brands: [],\n            disable_date_from : {\n                from: new Date(),\n                ranges: []\n            },\n            disable_date_to : {\n                from: new Date(),\n                ranges: []\n            },\n            data_report_brand: null\n        }\n    },\n    methods: {\n        handle_get_brand() {\n            return new Promise((resolve, reject) => {\n                HTTP.get('/brands').then(result => {\n                    resolve(result)\n                    this.brands.push({id: \"all_brand\", name: \"ALL BRAND\"})\n                    result.data.data.map(brand => {\n                        this.brands.push(brand)\n                    })\n                    \n                }).catch(error => {\n                    reject(error)\n                })\n            })\n        },\n        handle_export() {\n            if(this.id_brand.length > 0 && this.date_from < this.date_to) {\n                const current_date = new Date()\n                const date_f = new Date(this.date_from)\n                const date_t = new Date(this.date_to)\n                return new Promise((resolve, reject) => {\n                    HTTP.get(`/reports/call-back-brand=${this.id_brand}&date-from=${date_f}&date-to=${date_t}`).then(result => {\n                        resolve(result)\n                        this.data_report_brand = result.data.status == 200 ? result.data.data[0] : null\n                        this.name_file = `${this.data_report_brand.name_brand}_${current_date.getDate()}_${current_date.getMonth() + 1}_${current_date.getFullYear()}.xls`\n                        this.titles.push(this.data_report_brand.name_brand)\n                        this.titles.push(this.data_report_brand.owner_brand.full_name)\n                        this.titles.push(this.data_report_brand.owner_brand.email)\n                        this.titles.push(this.data_report_brand.owner_brand.phone_number)\n                        this.data_report_brand.data_call_back.map(item => {\n                            this.json_data.push({\n                                date_created: item.created_on,\n                                name: item.name,\n                                email: item.email,\n                                location: item.location,\n                                // budget: item.budget.fromm + '-' + item.budget.to\n                            })\n                        })\n                    }).catch(error => {\n                        reject(error)\n                        console.log(error);\n                    })\n                })\n            } else {\n                alert('Please choose full conditions')\n            }\n        }\n    },\n    created() {\n        this.handle_get_brand()\n    }\n}\n",{"version":3,"sources":["ReportCallBack.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReportCallBack.vue","sourceRoot":"src/components/Pages/Admin/Pages","sourcesContent":["<template>\n    <div class=\"flex-box padding-full block-custom-header col-group\">\n        <div class=\"block-custom col-12 padding-fix-lr box-shadow margin-fix-right\" style=\"max-height: 600px; background: #EDEDED;\">\n            <div class=\"block-header bg-title-header padding-full header-fix\">\n                <p class=\"title-form\">Report Call Back Of Brand</p>\n            </div>\n            <div class=\"form-group row-group width-full\">\n                <div class=\"form-group col-group\">\n                    <span class=\"label-span margin-bottom-fix\">Brand</span>\n                    <select v-model=\"id_brand\" class=\"selection-brand\">\n                        <option value=null>-- Select Brand --</option>\n                        <option :value=\"brand.id\" v-for=\"(brand, index) in brands\" :key=\"index\">{{brand.name}}</option>\n                    </select>\n                </div>\n                <div class=\"form-group col-group margin-fix-right\">\n                    <span class=\"label-span margin-bottom-fix\">Date From</span>\n                    <datepicker placeholder=\"Choose Date Start\" class=\"date_picker\" style=\"justify-content: flex-start\" :disabled-dates=\"disable_date_from\"  :format=\"format\"  v-model=\"date_from\"></datepicker>\n                </div>\n                <div class=\"form-group col-group margin-fix-right\">\n                    <span class=\"label-span margin-bottom-fix\">Date To</span>\n                    <datepicker placeholder=\"Choose Date Stop\" class=\"date_picker\" style=\"justify-content: flex-start\" :disabled-dates=\"disable_date_to\" :format=\"format\" v-model=\"date_to\"></datepicker>\n                </div>\n                <div class=\"form-group row-group\" style=\"max-width:160px; margin-top: 24px; \">\n                    <span class=\"label-span margin-bottom-fix\"></span>\n                    <button class=\"btn btn-sign-up\" v-on:click=\"handle_export()\">Export</button>\n                </div>\n            </div>\n        </div>\n        <div class=\"form-group col-group width-full padding-top\" v-if=\"data_report_brand\">\n            <div class=\"form-group row-group\"><span class=\"label\" style=\"font-size: 1.2em\">Report of brand {{data_report_brand.name_brand}}</span></div>\n            <div class=\"form-group row-group\" style=\"max-width: 400px; align-items: flex-end\">\n                <span class=\"label-span\" style=\"width: 120px;\">Name Brand's</span>\n                <input type=\"text\" class=\"border-bottom-ol\" :value=\"data_report_brand.name_brand\">\n            </div>\n            <div class=\"form-group row-group\" style=\"max-width: 600px; align-items: flex-end\">\n                <span class=\"label-span\" style=\"width: 120px;\">Brand Owner</span>\n                <input type=\"text\" class=\"border-bottom-ol\" :value=\"data_report_brand.owner_brand.full_name\">\n            </div>\n            <div class=\"form-group col-group\" style=\"max-width: 600px;\">\n                <div class=\"form-group row-group\">\n                    <div class=\"form-group row-group margin-fix-right\" style=\"max-width: 400px; align-items: flex-end\">\n                        <span class=\"label-span\" style=\"width: 120px;\">Email:</span>\n                        <input type=\"text\" class=\"border-bottom-ol\" :value=\"data_report_brand.owner_brand.email\">\n                    </div>\n                    <div class=\"form-group row-group\" style=\"max-width: 400px; align-items: flex-end\">\n                        <span class=\"label-span\" style=\"width: 160px;\">Phone Number</span>\n                        <input type=\"text\" class=\"border-bottom-ol\" :value=\"data_report_brand.owner_brand.phone_number\">\n                    </div>\n                </div>\n            </div>\n            <span class=\"label-span\" style=\"font-size: 1.3em\">List Call Back</span>\n            <div class=\"form-group row-group padding-top border-bottom-ol padding-bottom\" style=\"justify-content: flex-start\">\n                <span class=\"flex-box label text-color-second \" style=\"width: 80px; min-width: 100px;\">NO.</span>\n                <span class=\"flex-box label text-color-second margin-fix-right\">DATE CREATE</span>\n                <span class=\"flex-box label text-color-second margin-fix-right\">NAME</span>\n                <span class=\"flex-box label text-color-second margin-fix-right\">EMAIL</span>\n                <span class=\"flex-box label text-color-second margin-fix-right\">LOCATION</span>\n                <span class=\"flex-box label text-color-second \">BUDGET</span>\n            </div>\n            <div class=\"form-group col-group\" style=\"max-height: 300px; height: 240px;\">\n                <div class=\"form-group row-group padding-top\"  v-for=\"(item, index) in data_report_brand.data_call_back\" :key=\"index\">\n                    <span class=\"label flex-box\" style=\"width: 80px; min-width: 100px;\">{{index + 1}}</span>\n                    <span class=\"label flex-box\">{{new Date(item.created_on).toLocaleDateString()}}</span>\n                    <span class=\"label flex-box\">{{item.name}}</span>\n                    <span class=\"label flex-box text-overflow\">{{item.email}}</span>\n                    <span class=\"label flex-box\">{{item.location}}</span>\n                    <span class=\"label flex-box\">Budget: 100 - 200</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"form-group row-group\" v-else><span class=\"label-span\" style=\"display: flex; width: 100%; padding: 8px 0; justify-content: center; font-size: 1.6em\">NO DATA</span></div>\n        <div class=\"form-group row-group\" style=\"justify-content: center\">\n            <download-excel v-if=\"data_report_brand\"\n                :data= \"json_data\" \n                :title= \"titles\"\n                :fields = \"json_fields\"\n                :worksheet = \"id_brand\"\n                :name = \"name_file\"\n                class=\"btn-dwn-report text-color-primarry\">\n                Download Report\n                <span><i class=\"fas fa-print\"></i></span>\n            </download-excel>\n        </div>\n    </div>\n</template>\n<style  scoped>\n    .selection-brand {display: flex; width: 240px; height: 48px; font-size: 13px; }\n    .btn-dwn-report { border: 1px solid #EF4934; border-radius: 8px; padding: 8px;}\n    .btn-dwn-report:hover { background: #EF4934; color: #FFF;}\n</style>\n<script>\nimport Vue from 'vue';\nimport { HTTP } from '../../../../http-common'\nimport datepicker from 'vuejs-datepicker';\nimport JsonExcel from 'vue-json-excel'\n\nVue.component('download-excel', JsonExcel)\nexport default {\n    components: { datepicker},\n    data() {\n        return {\n            format: 'dd/MM/yyyy',\n            id_brand: null,\n            date_from: '',\n            titles: [],\n            date_to: '',\n            name_file: '',\n            json_fields: {\n                'DATE CREATE' : 'date_created',\n                'NAME' : 'name',\n                'EMAIL' : 'email',\n                'LOCATION': 'location',\n                'BUDGET' : 'budget'\n            },\n            json_data: [],\n            brands: [],\n            disable_date_from : {\n                from: new Date(),\n                ranges: []\n            },\n            disable_date_to : {\n                from: new Date(),\n                ranges: []\n            },\n            data_report_brand: null\n        }\n    },\n    methods: {\n        handle_get_brand() {\n            return new Promise((resolve, reject) => {\n                HTTP.get('/brands').then(result => {\n                    resolve(result)\n                    this.brands.push({id: \"all_brand\", name: \"ALL BRAND\"})\n                    result.data.data.map(brand => {\n                        this.brands.push(brand)\n                    })\n                    \n                }).catch(error => {\n                    reject(error)\n                })\n            })\n        },\n        handle_export() {\n            if(this.id_brand.length > 0 && this.date_from < this.date_to) {\n                const current_date = new Date()\n                const date_f = new Date(this.date_from)\n                const date_t = new Date(this.date_to)\n                return new Promise((resolve, reject) => {\n                    HTTP.get(`/reports/call-back-brand=${this.id_brand}&date-from=${date_f}&date-to=${date_t}`).then(result => {\n                        resolve(result)\n                        this.data_report_brand = result.data.status == 200 ? result.data.data[0] : null\n                        this.name_file = `${this.data_report_brand.name_brand}_${current_date.getDate()}_${current_date.getMonth() + 1}_${current_date.getFullYear()}.xls`\n                        this.titles.push(this.data_report_brand.name_brand)\n                        this.titles.push(this.data_report_brand.owner_brand.full_name)\n                        this.titles.push(this.data_report_brand.owner_brand.email)\n                        this.titles.push(this.data_report_brand.owner_brand.phone_number)\n                        this.data_report_brand.data_call_back.map(item => {\n                            this.json_data.push({\n                                date_created: item.created_on,\n                                name: item.name,\n                                email: item.email,\n                                location: item.location,\n                                // budget: item.budget.fromm + '-' + item.budget.to\n                            })\n                        })\n                    }).catch(error => {\n                        reject(error)\n                        console.log(error);\n                    })\n                })\n            } else {\n                alert('Please choose full conditions')\n            }\n        }\n    },\n    created() {\n        this.handle_get_brand()\n    }\n}\n</script>"]}]}