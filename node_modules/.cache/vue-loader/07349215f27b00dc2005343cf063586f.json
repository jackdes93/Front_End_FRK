{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/PageSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/PageSearch.vue","mtime":1578220070000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport block_nav from '../Units/BlockNav';\nimport block_footer from '../Units/Block_Footer';\nimport Block_Banner_Bottom from '../Units/Block_Banner_Bottom.vue';\nimport { HTTP } from '../../http-common';\nimport { router } from '../../routers';\n\n\nexport default {\n    components : {\n        block_nav, block_footer, Block_Banner_Bottom\n    },\n    data() {\n        return {\n            search_result: [],\n            key_word: '',\n            wish_list_current: [],\n        }\n    }, \n    methods: {\n        handle_search() {\n            return new Promise((resolve, reject) => {\n                HTTP.get(`/search/key-word=${this.key_word}`).then(result => {\n                    resolve(result)\n                    this.search_result = result.data.status == 200 ? result.data.data : []\n                }).catch(error => {\n                    reject(error)\n                    console.log('Error: ' + error)\n                })\n            })\n        },\n        handle_check_wish_list(id_brand) {\n            return this.wish_list_current.indexOf(id_brand) == -1 ? false : true\n        },\n        handle_add_wish_list(brand) {\n            var brand_wish = document.getElementById(brand._id)\n            var element_first = brand_wish.children[0]\n            if(localStorage.getItem('access_token')) {\n                if(element_first.checked) {\n                    HTTP.patch(`/wish/remove-user/brand=${brand._id}&customer=${this.customer.id}`).then(result => {\n                        alert(result.data.message)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = false\n                            brand_wish.children[1].style.color = '#F3A8B7'\n                        }                       \n                    }).catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                } else if(!element_first.checked){\n                    HTTP.patch('/wish/' + brand._id, {id_customer: this.customer.id}).then(result => {\n                        setTimeout(() => { alert(result.data.message)}, 100)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = true\n                            this.brand = brand\n                        }\n                    })\n                    .catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                }\n            } else {\n                router.push('/login')\n            }\n        },\n        handle_get_wish_list(id_customer) {\n            HTTP.get('/customers/' + id_customer).then(result => {\n                localStorage.removeItem('customer')\n                localStorage.setItem('customer', JSON.stringify(result.data))\n                this.customer = result.data\n                this.wish_list_current = result.data.wish_list\n                this.wish_list_current.map(item => { this.is_wish_list = item == this.id_brand ? true : false })  \n            }).catch(error => {\n                console.log(error)\n            }) \n        }\n    },\n    created() {\n        this.key_word = this.$route.params.key\n        this.handle_search()\n    }    \n}\n",{"version":3,"sources":["PageSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PageSearch.vue","sourceRoot":"src/components/Pages","sourcesContent":["<template>\n    <div>\n        <block_nav></block_nav>\n        <div class=\"row block-products\" v-if=\"search_result.length > 0\">\n            <div class=\"row-content\">\n                <div class=\"col-4 \" v-for=\"(brand, i) in search_result\" :key=\"i\"  >\n                    <div class=\"brand-item\">\n                        <router-link :to=\"{path: `/brand/${brand.id}`}\" class=\"logo-brand-home\" style=\"color:#000; width: 100%;\">\n                            <div class=\"header-img flex-row-center\">\n                                <img  v-bind:src=\"`${brand.image_source.logo}`\" v-bind:alt=\"brand.name\">\n                                <div class=\"label-circle-front\" v-if=\"brand.hotlabel\">\n                                    <i class=\"fas fa-fire-alt\" style=\"margin: 0\"></i>\n                                    <span class=\"text-uppercase\" style=\"font-weight: bold;\">Hot</span>\n                                </div>\n                            </div>\n                        </router-link>\n                        <div class=\"introduct-brand\">\n                            <div class=\"form-group row-group\">\n                                <h4 class=\"name-brand text-uppercase\">{{brand.name}}</h4>\n                                <span class=\"box-shadow wish \" :id=\"`${brand.id}`\" v-on:click=\"handle_add_wish_list(brand)\"> \n                                    <input class=\"toogle-heart\" type=\"checkbox\"  :checked=\"handle_check_wish_list(brand.id)\" />\n                                    <label class=\"label-toogle-heart\" >❤</label>\n                                </span>\n                            </div>\n                            <div class=\"price-text\" v-if=\"brand.price != 0\">{{brand.price.toLocaleString()}} <sup>đ</sup></div>\n                            <div class=\"price-text\" v-else>{{$t('contact_us')}}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"row block-products\" v-else>\n            <span class=\"label\" style=\"padding: 24px 16px\">{{$t('nodata')}}</span>\n        </div>\n        <Block_Banner_Bottom></Block_Banner_Bottom>\n        <block_footer></block_footer>\n    </div>\n</template>\n\n<script>\nimport block_nav from '../Units/BlockNav';\nimport block_footer from '../Units/Block_Footer';\nimport Block_Banner_Bottom from '../Units/Block_Banner_Bottom.vue';\nimport { HTTP } from '../../http-common';\nimport { router } from '../../routers';\n\n\nexport default {\n    components : {\n        block_nav, block_footer, Block_Banner_Bottom\n    },\n    data() {\n        return {\n            search_result: [],\n            key_word: '',\n            wish_list_current: [],\n        }\n    }, \n    methods: {\n        handle_search() {\n            return new Promise((resolve, reject) => {\n                HTTP.get(`/search/key-word=${this.key_word}`).then(result => {\n                    resolve(result)\n                    this.search_result = result.data.status == 200 ? result.data.data : []\n                }).catch(error => {\n                    reject(error)\n                    console.log('Error: ' + error)\n                })\n            })\n        },\n        handle_check_wish_list(id_brand) {\n            return this.wish_list_current.indexOf(id_brand) == -1 ? false : true\n        },\n        handle_add_wish_list(brand) {\n            var brand_wish = document.getElementById(brand._id)\n            var element_first = brand_wish.children[0]\n            if(localStorage.getItem('access_token')) {\n                if(element_first.checked) {\n                    HTTP.patch(`/wish/remove-user/brand=${brand._id}&customer=${this.customer.id}`).then(result => {\n                        alert(result.data.message)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = false\n                            brand_wish.children[1].style.color = '#F3A8B7'\n                        }                       \n                    }).catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                } else if(!element_first.checked){\n                    HTTP.patch('/wish/' + brand._id, {id_customer: this.customer.id}).then(result => {\n                        setTimeout(() => { alert(result.data.message)}, 100)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = true\n                            this.brand = brand\n                        }\n                    })\n                    .catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                }\n            } else {\n                router.push('/login')\n            }\n        },\n        handle_get_wish_list(id_customer) {\n            HTTP.get('/customers/' + id_customer).then(result => {\n                localStorage.removeItem('customer')\n                localStorage.setItem('customer', JSON.stringify(result.data))\n                this.customer = result.data\n                this.wish_list_current = result.data.wish_list\n                this.wish_list_current.map(item => { this.is_wish_list = item == this.id_brand ? true : false })  \n            }).catch(error => {\n                console.log(error)\n            }) \n        }\n    },\n    created() {\n        this.key_word = this.$route.params.key\n        this.handle_search()\n    }    \n}\n</script>"]}]}