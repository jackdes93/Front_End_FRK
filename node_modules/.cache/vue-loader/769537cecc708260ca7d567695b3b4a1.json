{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/User/ui_user/InfoUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/User/ui_user/InfoUser.vue","mtime":1565889621338},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { HTTP } from '../../../../http-common'\nimport { socket_bus } from '../../../../main'\nimport block_alert from '../../../Units/Block_Alert'\n\nexport default {\n    components: {\n        block_alert\n    },\n    data() {\n        return {\n            is_edit: true,\n            readonly: true,\n            customer: {}\n        }\n    },\n    methods: {\n        handle_edit() {\n            this.is_edit = false;\n            this.readonly = false;\n        },\n        handle_cancel() {\n            this.is_edit = true;\n            this.readonly = true;\n        },\n        handle_save() {\n            const data = {id: this.customer.id, updateOps: this.customer}\n            this.$validator.validateAll()\n            if(!this.errors.any()) {\n                HTTP.patch('/customers/' + data.id, data.updateOps).then(result => {\n                    if(result.status == 200) {\n                        this.is_edit = true;\n                        this.readonly = true;\n                        localStorage.removeItem('customer')\n                        localStorage.setItem('customer', JSON.stringify(this.customer))\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Update Account Success', is_redirect: true})\n                    } else {\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Update Account Fail!', is_redirect: false})\n                    }\n                }).catch(error => {\n                    console.log(error);\n                })\n                \n            }\n            \n        }\n    },\n    created() {\n        if(JSON.parse(localStorage.getItem('customer'))) {\n            this.customer = JSON.parse(localStorage.getItem('customer'))\n        }\n        \n    }\n}\n",{"version":3,"sources":["InfoUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"InfoUser.vue","sourceRoot":"src/components/Pages/User/ui_user","sourcesContent":["<template>\n    <div class=\"flex-box block-info-user padding-full\">\n        <div class=\"block-custom col-6 padding-fix-lr box-shadow margin-fix-right\" style=\"max-height: 600px;\">\n            <div class=\"block-header bg-title-header padding-full header-fix\">\n                <p class=\"title-form\">Edit Profile</p>\n                <p class=\"label-cell white\">Complete your profile</p>\n            </div>\n            <form class=\"block-form\">\n                <div class=\"form-group row-group\">\n                    <div class=\"form-group col-group margin-fix-right \">\n                        <span class=\"label-span margin-bottom\">Full Name</span>\n                        <input type=\"text\" name=\"full_name\" class=\"border-bottom-ol\" v-model=\"customer.full_name\" :readonly=\"readonly\" v-validate=\"`required: true`\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('full_name')\">{{errors.first('full_name')}}</span>\n                    </div>\n                    <div class=\"form-group col-group\">\n                        <span class=\"label-span margin-bottom\">Email Address</span>\n                        <input type=\"text\" name=\"email\" v-model=\"customer.email\" class=\"border-bottom-ol\" :readonly=\"readonly\" v-validate=\"`required: true|email`\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('email')\">{{errors.first('email')}}</span>\n                    </div>\n                </div>\n                <div class=\"form-group row-group\">\n                    <div class=\"form-group col-group\">\n                        <span class=\"label-span margin-bottom\">Address </span>\n                        <input type=\"text\" name=\"address\" class=\"border-bottom-ol\" v-model=\"customer.address\" :readonly=\"readonly\" v-validate=\"`required: true`\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('address')\">{{errors.first('address')}}</span>\n                    </div>\n                </div>\n                <div class=\"form-group row-group\">\n                    <div class=\"form-group col-group margin-fix-right\">\n                        <span class=\"label-span margin-bottom\">Phone Number </span>\n                        <input type=\"text\" name=\"phone_number\" v-model=\"customer.phone_number\" class=\"border-bottom-ol\" :readonly=\"readonly\" v-validate=\"`required: true|regex:^([0-9]+)$|max:10`\">\n                        <span class=\"error-text margin-fix-top\" v-show=\"errors.has('phone_number')\">{{errors.first('phone_number')}}</span>\n                    </div>\n                    <div class=\"form-group col-group\">\n                        <span class=\"label-span margin-bottom\">Type Account </span>\n                        <input type=\"text\" v-model=\"customer.level\" class=\"border-bottom-ol\" readonly>\n                        </div>\n                </div>\n\n                <div class=\"form-group row-group\" >\n                    <div class=\"form-group\" style=\"align-items: center; justify-content: center;\" v-show=\"!is_edit\">\n                        <div class=\"btn btn-sign-up \" style=\"border:1px solid #ED6B28; width: 160px;\" v-on:click=\"handle_cancel\">Cancle</div>\n                    </div>\n                    <div class=\"form-group\" v-if=\"is_edit\" style=\"align-items: center; justify-content: center;\">\n                        <div class=\"btn btn-login bg-title-header\" style=\"border:none;\" v-on:click=\"handle_edit\">Edit</div>\n                    </div>\n                    <div class=\"form-group\" v-else style=\"align-items: center; justify-content: center;\">\n                        <div class=\"btn btn-login bg-title-header\" style=\"border:none;\" v-on:click=\"handle_save\">Save</div>\n                    </div>\n                </div>\n            </form>\n        </div>\n        <div class=\"block-custom col-3 box-shadow padding-full margin-fix-left flex-col-center\" style=\"max-height: 290px;\">\n            <div class=\"block-image header-fix\" style=\"top: -52px;\">\n                <img src=\"@/assets/images/avatar.jpg\" alt=\"Avatar\">\n            </div>\n            <div class=\"form-group\">\n                <p class=\"label text-uppercase text-center width-full sm-size\">CEO / CO-FOUNDER</p>\n            </div>\n            <div class=\"form-group\">\n                <p class=\"label text-uppercase text-center width-full\">{{customer.full_name}}</p>\n            </div>\n            <div class=\"form-group\">\n                <p class=\"label text-center width-full\">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fuga praesentium error eos, animi iure vel libero officia rerum voluptatum alias est perspiciatis. Maiores totam doloribus aspernatur iste distinctio. Ullam, explicabo.</p>\n            </div>\n            <div class=\"form-group flex-col-center\">\n                <button class=\"btn btn-submit bg-title-header text-uppercase\" style=\"border:none;\">follow</button>\n            </div>\n        </div>\n        <block_alert></block_alert>\n    </div> \n</template>\n\n<script>\nimport { HTTP } from '../../../../http-common'\nimport { socket_bus } from '../../../../main'\nimport block_alert from '../../../Units/Block_Alert'\n\nexport default {\n    components: {\n        block_alert\n    },\n    data() {\n        return {\n            is_edit: true,\n            readonly: true,\n            customer: {}\n        }\n    },\n    methods: {\n        handle_edit() {\n            this.is_edit = false;\n            this.readonly = false;\n        },\n        handle_cancel() {\n            this.is_edit = true;\n            this.readonly = true;\n        },\n        handle_save() {\n            const data = {id: this.customer.id, updateOps: this.customer}\n            this.$validator.validateAll()\n            if(!this.errors.any()) {\n                HTTP.patch('/customers/' + data.id, data.updateOps).then(result => {\n                    if(result.status == 200) {\n                        this.is_edit = true;\n                        this.readonly = true;\n                        localStorage.removeItem('customer')\n                        localStorage.setItem('customer', JSON.stringify(this.customer))\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Update Account Success', is_redirect: true})\n                    } else {\n                        socket_bus.$emit('SHOW_ALERT', {is_show: true, message: 'Update Account Fail!', is_redirect: false})\n                    }\n                }).catch(error => {\n                    console.log(error);\n                })\n                \n            }\n            \n        }\n    },\n    created() {\n        if(JSON.parse(localStorage.getItem('customer'))) {\n            this.customer = JSON.parse(localStorage.getItem('customer'))\n        }\n        \n    }\n}\n</script>"]}]}