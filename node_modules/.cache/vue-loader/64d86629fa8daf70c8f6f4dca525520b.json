{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Units/Block_BBQ.vue?vue&type=style&index=0&id=213a75c2&scoped=true&lang=css&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Units/Block_BBQ.vue","mtime":1573736751489},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.bg-food { background: url('../../assets/image/BBQ.jpg') no-repeat; background-position: bottom; background-size: cover; display: flex; flex-direction: row; width: 100%; height: 790px; padding: 60px 55px;}\n\n",{"version":3,"sources":["Block_BBQ.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA","file":"Block_BBQ.vue","sourceRoot":"src/components/Units","sourcesContent":["<template>\n    <div class=\"container flex-box bg-food\" v-if=\"brands.length != 0\">\n        <div class=\"wrap-container block-online-brands\">\n            <div class=\"block-drink-left\">\n                <p class=\"text-uppercase title-block-drink\">{{$t('bbq')}}</p>\n                <a class=\"title-see-more see-more-desktop\" v-on:click=\"handle_click()\">{{$t('see_more')}} >> </a>\n            </div>\n            <div class=\"block-drink-brands\">\n                <div class=\"item-brands\" v-for=\"(brand, index) in brands\" :key=\"index\">\n                    <i class=\"fas fa-crown icon-normal\"></i>\n                    <div class=\"content-brands\">\n                        <p class=\"title-brand text-uppercase\">{{brand.name}}</p>\n                        <p class=\"description-brand\">{{brand.introduce}}</p>\n                        <p class=\"price-brand\">{{Number(brand.price).toLocaleString()}} <sup>đ</sup></p>\n                    </div>\n                    <div class=\"block-contact\" style=\"justify-content: flex-start\">\n                       <span class=\"box-shadow wish margin-fix-right\" v-if=\"is_owner\" :id=\"`${brand.id}`\" v-on:click=\"handle_add_wish_list(brand)\"> \n                            <input class=\"toogle-heart\" type=\"checkbox\"  :checked=\"handle_check_wish_list(brand.id)\" />\n                            <label class=\"label-toogle-heart\" >❤</label>\n                        </span>\n                        <router-link :to=\"{path: `/brand/${brand.id}`}\" style=\"color:#000;\"><i class=\"fas fa-eye\"></i></router-link>\n                    </div>\n                </div>\n            </div>\n            <div class=\"form-group block-see-more\"><a class=\"title-see-more\" v-on:click=\"handle_click()\">{{$t('see_more')}} >> </a></div>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n.bg-food { background: url('../../assets/image/BBQ.jpg') no-repeat; background-position: bottom; background-size: cover; display: flex; flex-direction: row; width: 100%; height: 790px; padding: 60px 55px;}\n\n</style>\n\n\n<script>\n\nimport { HTTP } from '../../http-common';\nimport { router } from '../../routers';\nexport default {\n    data() {\n        return {\n            brands: [],\n            brand:{},\n            customer: null,\n            is_owner: true,\n            wish_list_current: []\n        }\n    },\n    methods: {\n        handle_click() {\n            router.push('/category=BBQ')\n        },\n        handle_get_wish_list(id_customer) {\n            HTTP.get('/customers/' + id_customer).then(result => {\n                localStorage.removeItem('customer')\n                localStorage.setItem('customer', JSON.stringify(result.data))\n                this.customer = result.data\n                this.wish_list_current = result.data.wish_list\n                \n            }).catch(error => {\n                console.log(error)\n            }) \n        },\n        handle_add_wish_list(brand) {\n            var brand_wish = document.getElementById(brand.id)\n            var element_first = brand_wish.children[0]\n            if(localStorage.getItem('access_token')) {\n                if(element_first.checked) {\n                    HTTP.patch(`/wish/remove-user/brand=${brand.id}&customer=${this.customer.id}`).then(result => {\n                        alert(result.data.message)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = false\n                            brand_wish.children[1].style.color = '#F3A8B7'\n                        }                       \n                    }).catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                } else if(!element_first.checked){\n                    HTTP.patch('/wish/' + brand.id, {id_customer: this.customer.id}).then(result => {\n                        setTimeout(() => { alert(result.data.message)}, 100)\n                        if(result.data.status == 200) {\n                            window.location.reload()\n                            element_first.checked = true\n                            this.brand = brand\n                        }\n                    })\n                    .catch(error => {\n                        console.log('Error: ' + error);\n                    })\n                }\n            } else {\n                router.push('/login')\n            }\n        },\n        handle_check_wish_list(id_brand) {\n            return this.wish_list_current.indexOf(id_brand) == -1 ? false : true\n        },\n        handle_get_brand() {\n             return new Promise((resolve, reject) => {\n                HTTP.get('brands/category/BBQ').then(result => {\n                    resolve(result)\n                    this.brands = result.data.status == 200 ? result.data.data : []\n                    this.brands = this.brands.filter(brand => {return brand.priority >= 1 || brand.hotlabel})\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log(error)\n                })\n            })\n        }\n    },\n    created() {\n        if(JSON.parse(localStorage.getItem('customer'))) {\n            this.customer = JSON.parse(localStorage.getItem('customer'))\n            this.handle_get_wish_list(this.customer.id)\n        }\n        this.handle_get_brand()\n    }\n}\n</script>"]}]}