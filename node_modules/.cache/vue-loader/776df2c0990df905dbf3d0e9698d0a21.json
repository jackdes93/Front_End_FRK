{"remainingRequest":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/NormalBrand.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/src/components/Pages/NormalBrand.vue","mtime":1570252384512},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jackdesy93/Documents/Project Free Landcer/Franchise King/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport block_footer from '../Units/Block_Footer';\nimport block_nav from '../Units/BlockNav';\nimport { Promise } from 'q';\nimport { HTTP } from '../../http-common';\nimport { router } from '../../routers';\nimport VueTimepicker from 'vue2-timepicker';\nimport datepicker from 'vuejs-datepicker';\n\nexport default {\n    components: {\n        block_footer, block_nav, VueTimepicker,datepicker\n    },\n    data() {\n        return {\n            format: 'dd/MM/yyyy',\n            id_brand: '',\n            events: [],\n            brand: { id: \"\", name: \"\", image_source: {logo: \"\", thumbnail: \"\", image_intro: \"\", main_banner: \"\"}, id_category: \"\", id_customer: \"\",introduce: \"\",\n            location: [], phone_number: \"\", terms: [], website: \"\", priority: 0, price: 0, level : 1, email: \"\", feauture: \"\", event: []},\n            joining_demands: [],\n            new_joining_request: {id_brand: \"\", name: \"\", email: \"\", location: \"\", store_front: false, open_time: new Date(Date.now() + 7 * 60 * 60 * 1000), phone_number: \"\", zalo: \"\", time_contact: \"\", message: \"\"},\n            list_city:[],\n            city_show: false,\n            is_hot_label: false,\n            city_choose: {_id: '', name: '-- Select City --'},\n            timer_call: {},\n            customer: {},\n            wish_list_current: [],\n            is_wish_list: false\n        }\n    },\n    methods: {\n        handle_get_info_brand(id_brand) {\n            return new Promise((resolve, reject) => {\n                HTTP.get('/brands/' + id_brand).then(result => {\n                    resolve(result)\n                    this.brand = result.status == 200 ? result.data : {}\n                    this.events = this.brand.events\n                    this.handle_get_joining_demands(this.brand.id_category)\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log('Error: ' + error);\n                })\n            })\n        },\n        handle_get_advertisement_brand() {\n\n        },\n        handle_add_wish_list() {\n            if(localStorage.getItem('access_token')) {\n                HTTP.patch('/wish/' + this.id_brand, {id_customer: this.customer.id}).then(result => {\n                    setTimeout(() => { alert(result.data.message)}, 2000)\n                })\n                .catch(error => {\n                    console.log('Error: ' + error);\n                })\n            } else {\n                router.push('/login')\n            }\n        },\n        handle_get_joining_demands(category) {\n            return new Promise((resolve, reject) => {\n                HTTP.get('joining-demand/category-type='+ category).then(result => {\n                    resolve(result)\n                    this.joining_demands = result.data.status == 200 ? result.data.data : []\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log(error)\n                })\n            })\n        },\n        handle_select_city(i) {\n            this.city_choose = this.list_city[i]\n            this.city_show = false;\n            this.new_joining_request.location = this.new_joining_request.location.length == 0 ? this.new_joining_request.location += this.city_choose.name : this.new_joining_request.location += ', ' + this.city_choose.name\n        },\n        changeHandler() {\n            this.new_joining_request.time_contact = this.timer_call.HH + ':' + this.timer_call.mm\n        },\n        handle_return_string_money(text) {\n            const length = text.length\n           if(length > 6) {\n               return text.substr(0, text.length - 6) \n           } else if(length == 6) {\n               return '0.' + text.substr(0, 1)\n           }\n        },\n        handle_post_joining_request() {\n            this.$validator.validateAll()\n            if(!this.errors.any()) {\n                this.new_joining_request.id_brand = this.brand.id\n                return new Promise((resolve, reject) => {\n                    HTTP.post('/joining-request', this.new_joining_request).then(result => {\n                        resolve(result)\n                        if(result.data.status == 201) {\n                            alert('Post Your Request Success')\n                            this.new_joining_request = {\n                                id_brand: \"\", \n                                name: \"\", \n                                email: \"\", \n                                location: \"\", \n                                store_front: false, \n                                open_time: new Date(Date.now() + 7 * 60 * 60 * 1000), \n                                phone_number: \"\", zalo: \"\", time_contact: \"\", message: \"\"\n                            }\n                        } else {\n                            alert('Post Your Request Fail!!')\n                        }\n                    })\n                    .catch(error => {\n                        reject(error)\n                        console.log(error)\n                    })\n                })\n            } else {\n                alert('Post Your Request Brand FAIL')\n            }\n        },\n        handle_scroll_to_top(item) {\n            var online_inquery = document.getElementById(item);\n            var startTime = null;\n            var duration = 1000\n            var start_position = parseFloat(window.pageYOffset);\n            var target_position = parseFloat(online_inquery.getBoundingClientRect().top); \n            var distance = (target_position + start_position) / 2\n            \n            \n            function animation(current_time) {\n                if(startTime === null) startTime = current_time\n                var timeElapsed = current_time - startTime\n                var run = ease(timeElapsed, start_position, distance, duration)\n                window.scrollTo(0, run);\n\n                if(timeElapsed < duration) {\n                    requestAnimationFrame(animation);\n                }\n            }\n\n            function ease (t, b, c, d) {\n                t /= d/2;\n                if (t < 1) return c/2 * t * t + b;\n                t--;\n                return -c/2 * ( t * (t - 2) - 1) + b;\n            }\n\n            requestAnimationFrame(animation)\n        },\n        handle_get_wish_list(id_customer) {\n            HTTP.get('/customers/' + id_customer).then(result => {\n                localStorage.removeItem('customer')\n                localStorage.setItem('customer', JSON.stringify(result.data))\n                this.customer = result.data\n                this.wish_list_current = result.data.wish_list\n                this.wish_list_current.map(item => { this.is_wish_list = item == this.id_brand ? true : false })  \n            }).catch(error => {\n                console.log(error)\n            }) \n        }\n    },  \n    created() {\n        this.id_brand = this.$route.params.id\n        if(JSON.parse(localStorage.getItem('customer'))) {\n            this.customer = JSON.parse(localStorage.getItem('customer'))\n            this.handle_get_wish_list(this.customer.id)\n        }\n        this.handle_get_info_brand(this.$route.params.id)\n\n        this.$store.dispatch('get_cities').then(result => {\n            this.list_city = result.data\n        })\n    }\n}\n\n\n",{"version":3,"sources":["NormalBrand.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"NormalBrand.vue","sourceRoot":"src/components/Pages","sourcesContent":["<template>\n    <div>\n        <!-- NAV -->\n        <block_nav></block_nav>\n        <div class=\"wrap-container img-brand-header\">\n            <div class=\"logo-brand-normal\">\n                <img :src=\"`${brand.image_source.logo}`\" v-bind:alt=\"brand.name\" style=\"object-fit: contain\">\n            </div>\n            <div class=\"img-brand\">\n                <img :src=\"`${brand.image_source.thumbnail}`\" :alt=\"brand.name\">\n                <div class=\"label-circle\" v-if=\"is_hot_label\">\n                    <i class=\"fas fa-fire-alt\" style=\"font-size: 30px;\"></i>\n                    <span class=\"text-uppercase\" style=\"font-size: 25px; font-weight: bold;\">Hot</span>\n                </div>\n            </div>\n        </div>\n        <!-- INFO BRAND -->\n        <div class=\"wrap-container block-info-brand\">\n            <div class=\"info-brand\">\n                <div class=\"header-info-brand\">\n                    <p class=\"title-brand text-uppercase\" style=\"font-family: 'Cabin'; font-size: 26px; display: flex; justify-content: flex-start; align-items: center;\"> \n                    <span class=\"larger-text text-uppercase\" style=\"font-family: 'Cabin'; font-weight: bold;\"> {{brand.name}} </span></p>\n                </div>\n                <div class=\"content-info-brand\">\n                    <div class=\"form-group row-group\">\n                        <p class=\"text-description-brand\">{{brand.introduce}}</p>\n                        <span class=\"box-shadow wish\" > \n                            <input id=\"toggle-heart\" type=\"checkbox\" :checked=\"is_wish_list\" v-on:click=\"handle_add_wish_list()\" />\n                            <label for=\"toggle-heart\">❤</label>\n                        </span>\n                    </div>\n                    <div class=\"contact-brand\">\n                        <div class=\"content-contact\">\n                            <span class=\"item-contact\">\n                                <i class=\"fas fa-money-check-alt\" style=\"font-size: 32px; \">\n                                    <span style=\"font-family: 'Cabin'; padding:0 10px;\">Cost:</span> \n                                </i>\n                                <span class=\"price-text\" style=\"font-size: 32px;\"> {{Number(brand.offset_price).toLocaleString()}}<sup>đ</sup></span> \n                            </span>\n                            <span class=\"item-contact\">\n                                <i class=\"fas fa-map-marked-alt\" style=\"font-size: 20px; color: #000;\">\n                                <span  style=\"padding:0 10px; font-size: 20px; font-family: 'Cabin Medium';\" > Head Office: </span> {{brand.head_office}}</i>\n                            </span>\n                        </div>\n                        <div class=\"qrcode\">\n                            <img :src=\"`${brand.image_source.image_qr_code}`\" alt=\"QR Code Brand\">\n                        </div>\n                    </div>\n                </div>\n                \n            </div>\n            <div class=\"nav-section\">\n                <ul class=\"list\">\n                    <li v-if=\"events\">\n                        <router-link to=\"#LASTEVENTS\">LAST EVENTS</router-link>\n                    </li>\n                    <li v-if=\"brand.feature\">\n                        <router-link to=\"#OURSPECIFICATIONS\">OUR SPECIFICATIONS</router-link>\n                    </li>\n                    <li>\n                        <router-link to=\"#BRANDINTRODUCE\">BRAND INTRODUCE</router-link>\n                    </li>\n                    <li>\n                        <router-link to=\"#FRANCHISETERM\">FRANCHISE TERM</router-link>\n                    </li>\n                    <li>\n                        <a v-on:click=\"handle_scroll_to_top('ONLINEONQUIRY')\">ONLINE INQUIRY</a>\n                    </li>\n                </ul>\n            </div>\n            <div class=\"intro-brand\">\n                <div class=\"col-group flex-3\" style=\"margin-right: 15px;\">\n                    <div id=\"OURSPECIFICATIONS\" v-if=\"events.lenght > 0\">\n                        <div class=\"block-header\">\n                            <i class=\"fas fa-newspaper\"></i>\n                            <p class=\"text-uppercase\" style=\"font-family: 'Cabin'; font-weight: bold; font-size: 24px;\">our last event</p>\n                        </div>\n                        <ul class=\"list\">\n                            <li class=\"item-newspaper\" v-for=\"(event, index) in events\" :key=\"index\">\n                                <span class=\"title-newspaper current\"><i class=\"far fa-bell\" style=\"padding-right: 10px;\"></i> {{event.name}} </span>\n                                <span style=\"font-family: 'Quicksand Light'; font-size: 14px;\"> {{new Date(event.created_on).toLocaleString().split(',')[0]}}</span>\n                            </li>   \n                        </ul>\n                    </div>\n                    <div id=\"OPTIONJOINING\">\n                        <div class=\"block-header\">\n                            <i class=\"fas fa-star\" ></i>\n                            <p class=\"text-uppercase\" style=\"font-family: 'Cabin'; font-weight: bold; font-size: 24px;\">joining specifications</p>\n                        </div>\n                        <ul class=\"list\">\n                           <li class=\"option\" v-for=\"(equiqment, index) in brand.feature\" :key=\"index\">\n                               <span v-bind:class=\"{ 'check' : equiqment.value == true}\"><i class=\"far fa-check-circle \" style=\"padding-right: 8px;\"></i> {{equiqment.content}}</span>\n                           </li>\n                        </ul>\n                    </div>\n                    <div id=\"BRANDINTRODUCE\">\n                       <div class=\"block-header bg-title-header \">\n                            <i class=\"fas fa-crown\" style=\"color: #FFF;\"></i>\n                            <p class=\"text-uppercase\" style=\"font-family: 'Cabin'; font-weight: bold; font-size: 24px; color: #FFF;\">brand introduce</p>\n                        </div>\n                        <ul class=\"list\">\n                            <div class=\"form-group col-group\" v-for=\"(pic, index) in brand.image_source.image_intro\" :key=\"index\">\n                                <img :src=\"`./${pic}`\" alt=\"Image Intro Brand\">\n                            </div>\n                        </ul>\n                    </div>\n                    <div id=\"MENU\">\n                        <div class=\"block-header bg-title-header \">\n                            <i class=\"fas fa-crown\" style=\"color: #FFF;\"></i>\n                            <p class=\"text-uppercase\" style=\"font-family: 'Cabin'; font-weight: bold; font-size: 24px; color: #FFF;\">Menu</p>\n                        </div>\n                        <ul class=\"list\">\n                            <div class=\"form-group col-group\" v-for=\"(pic, index) in brand.image_source.menu\" :key=\"index\">\n                                <img :src=\"`./${pic}`\" alt=\"Image Menu Brand\">\n                            </div>\n                        </ul>\n                    </div>\n                    <div id=\"FRANCHISETERM\">\n                        <div class=\"block-header bg-title-header \">\n                            <i class=\"fas fa-crown\" style=\"color: #FFF;\"></i>\n                            <p class=\"text-uppercase\" style=\"font-family: 'Cabin'; font-weight: bold; font-size: 24px; color: #FFF;\">FRANCHISE TERM</p>\n                        </div>\n                        <ul class=\"list\">\n                            <div class=\"form-group col-group\" v-for=\"(pic, index) in brand.image_source.main_banner\" :key=\"index\">\n                                <img :src=\"`./${pic}`\" alt=\"Image Term Brand\">\n                            </div>\n                        </ul>\n                    </div>\n                    <div id=\"ONLINEONQUIRY\">\n                        <div class=\"block-header\">\n                            <i class=\"fas fa-comments\"></i>\n                            <p class=\"text-uppercase\" style=\"font-family: 'Cabin'; font-weight: bold; font-size: 24px;\">LEAVE AN INQUIRY - WE WILL CONTACT YOU </p>\n                        </div>\n                        <form class=\"form-box\" style=\"padding:25px 30px; height: auto; margin-bottom: 0;\" @submit.prevent=\"handle_post_joining_request()\">\n                            <div class=\"form-content\" style=\"padding: 0; height: auto;\">\n                                <div class=\"form-group col-group\">\n                                    <div class=\"form-group\">\n                                        <div class=\"form-group col-group col-1-3 padding-right\">\n                                            <span class=\"label text-uppercase padding-span\">Location</span>\n                                            <input type=\"text\" placeholder=\"Choose Location\" v-model=\"new_joining_request.location\" name=\"location\" readonly v-on:click=\"city_show = true\" v-validate=\"'required: true'\">\n                                            <span class=\"error-text margin-fix-top\" v-show=\"errors.has('location')\">{{errors.first('location')}}</span>\n                                        </div>\n                                        <ul class=\"list-city\" v-if=\"city_show\">\n                                            <li class=\"item-city\" v-for=\"(city,i) in list_city\" :key=\"i\" v-on:click=\"handle_select_city(i)\">\n                                                <p>{{city.name}}</p>\n                                            </li>\n                                        </ul>\n                                        <div class=\"form-group col-group col-1-3\" style=\"align-items: normal\">\n                                            <span class=\"label text-uppercase padding-span\">store front</span>\n                                            <div class=\"form-group row-group-radio-btn\">\n                                                <div class=\"form-group radio-btn\">\n                                                    <input type=\"radio\" name=\"check\" :value=\"true\" v-model=\"new_joining_request.store_front\" style=\"width: 40px;\">\n                                                    <p class=\"label-option\"> Found</p>\n                                                </div>\n                                                <div class=\"form-group radio-btn row-group\">\n                                                    <input type=\"radio\" name=\"check\" :value=\"false\" v-model=\"new_joining_request.store_front\" style=\"width: 40px;\">\n                                                    <p class=\"label-option\">Still looking for</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class=\"form-group col-group col-1-3 padding-left\">\n                                            <span class=\"label text-uppercase padding-span\">Openning time</span>\n                                            <datepicker placeholder=\"When will you ready to launch ?\" class=\"date_picker\" :format=\"format\" v-model=\"new_joining_request.open_time\"></datepicker>\n                                        </div>\n                                    </div>\n                                </div>\n                                \n                                <div class=\"form-group col-group\" style=\"padding-top: 15px;\">\n                                    <span class=\"label text-uppercase padding-span\">Contact Infomation</span>\n                                    <div class=\"form-group\" >\n                                        <div class=\"form-group col-group col-2-3\" style=\"padding-right: 15px;\">\n                                            <div class=\"form-group row-group\" style=\"margin-bottom: 10px;\">\n                                                <div class=\"form-group col-group padding-right\">\n                                                    <input type=\"text\" placeholder=\"Your name (*)\" name=\"name\" v-model=\"new_joining_request.name\" v-validate=\"'required:true'\">\n                                                    <span class=\"error-text margin-fix-top\" v-show=\"errors.has('name')\">{{errors.first('name')}}</span>\n                                                </div>\n                                                <div class=\"form-group col-group\">\n                                                    <input type=\"text\" placeholder=\"Your email (*)\" name=\"email\" v-model=\"new_joining_request.email\"  v-validate=\"'required:true|email'\">  \n                                                    <span class=\"error-text margin-fix-top\" v-show=\"errors.has('email')\">{{errors.first('email')}}</span>\n                                                </div>\n                                            </div>\n                                            <div class=\"form-group col-group\">\n                                                <textarea name=\"message\" v-model=\"new_joining_request.message\" cols=\"30\" rows=\"10\" style=\"padding: 10px;\" placeholder=\"Your message\" v-validate=\"'required:true'\"></textarea>\n                                                <span class=\"error-text margin-fix-top\" v-show=\"errors.has('message')\">{{errors.first('message')}}</span>\n                                            </div>\n                                        </div>\n                                        <div class=\"form-group col-group col-1-3\" style=\"padding-left: 15px;\">\n                                            <input type=\"text\" name=\"phone_number\" placeholder=\"Phone number\" v-model=\"new_joining_request.phone_number\" style=\"margin-bottom : 10px;\" v-validate=\"'required: true'\">\n                                            <span class=\"error-text margin-fix-top\" v-show=\"errors.has('phone_number')\">{{errors.first('phone_number')}}</span>\n                                            <input type=\"text\" name=\"zalo\" placeholder=\"Zalo number\" v-model=\"new_joining_request.zalo\" style=\"margin: 10px 0;\" v-validate=\"'required: true'\">\n                                            <span class=\"error-text margin-fix-top\" v-show=\"errors.has('zalo')\">{{errors.first('zalo')}}</span>\n                                            <vue-timepicker v-model=\"timer_call\" @change=\"changeHandler\" format=\"HH:mm\" style=\"margin: 10px 0 ; width: 200px;\" name=\"timer_call\" v-validate=\"'required: true'\"></vue-timepicker>\n                                            <span class=\"error-text margin-fix-top\" v-show=\"errors.has('timer_call')\">{{errors.first('timer_call')}}</span>\n                                            <button type=\"submit\" class=\"btn btn-submit-joining\" :disabled=\"errors.length > 0\">SUBMIT DEMAND</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <div class=\"col-group flex-1\"  style=\"margin-left: 15px;\">\n                    <div class=\"block-top\">\n                        <!-- <img src=\"../../assets/image/OnlineJoining-banner.jpg\" alt=\"Banner Small On Top\"> -->\n                    </div>\n                    <div class=\"block-btn-contact\">\n                        <div class=\"block-call\">\n                            <ul class=\"list col-group\" style=\"justify-content: flex-start; \">\n                                <li class=\"btn btn-call\">\n                                    <a :href=\"`tel:0000000`\" style=\"color: #FFF\">\n                                    Call Now Support\n                                    <i class=\"fas fa-phone\" style=\"padding: 0 10px;\"></i>\n                                    </a>\n                                </li>\n                                <li class=\"btn btn-inquiry\">\n                                    <a v-on:click=\"handle_scroll_to_top('ONLINEONQUIRY')\">ONLINE INQUIRY</a>\n                                    <i class=\"fas fa-comments\" style=\"padding: 0 10px;\"></i>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div class=\"col-4\" style=\"height: 300px; width: 100% !important;\">\n                        <div class=\"list-joining header-block-product row-header\">\n                            <span class=\"circle\"><i class=\"fas fa-bolt text-color-primarry\"></i></span>\n                            <p class=\"title-header\" style=\"padding-right: 15px;\">THE LAST JOINING DEMAND</p>\n                        </div>\n                        <div class=\"list-item\" v-if=\"joining_demands.length > 0\">\n                            <div class=\"list-joining\" v-for=\"(item, index) in joining_demands\" :key=\"index\" >\n                                <p class=\"text-overflow text-description\">{{index % 3 == 0 ? 'Ms.***' : 'Mr.***'}} | Ask: {{item.category}} | Budget: {{handle_return_string_money(item.budget.from.toString())}} million to {{handle_return_string_money(item.budget.to.toString())}} million</p>\n                            </div>\n                        </div>\n                        <div class=\"list-item\" v-else style=\"justify-content: center; display:flex;\">\n                            <p class=\"text-description\">No Data</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <block_footer></block_footer>\n    </div>\n</template>\n\n<script>\nimport block_footer from '../Units/Block_Footer';\nimport block_nav from '../Units/BlockNav';\nimport { Promise } from 'q';\nimport { HTTP } from '../../http-common';\nimport { router } from '../../routers';\nimport VueTimepicker from 'vue2-timepicker';\nimport datepicker from 'vuejs-datepicker';\n\nexport default {\n    components: {\n        block_footer, block_nav, VueTimepicker,datepicker\n    },\n    data() {\n        return {\n            format: 'dd/MM/yyyy',\n            id_brand: '',\n            events: [],\n            brand: { id: \"\", name: \"\", image_source: {logo: \"\", thumbnail: \"\", image_intro: \"\", main_banner: \"\"}, id_category: \"\", id_customer: \"\",introduce: \"\",\n            location: [], phone_number: \"\", terms: [], website: \"\", priority: 0, price: 0, level : 1, email: \"\", feauture: \"\", event: []},\n            joining_demands: [],\n            new_joining_request: {id_brand: \"\", name: \"\", email: \"\", location: \"\", store_front: false, open_time: new Date(Date.now() + 7 * 60 * 60 * 1000), phone_number: \"\", zalo: \"\", time_contact: \"\", message: \"\"},\n            list_city:[],\n            city_show: false,\n            is_hot_label: false,\n            city_choose: {_id: '', name: '-- Select City --'},\n            timer_call: {},\n            customer: {},\n            wish_list_current: [],\n            is_wish_list: false\n        }\n    },\n    methods: {\n        handle_get_info_brand(id_brand) {\n            return new Promise((resolve, reject) => {\n                HTTP.get('/brands/' + id_brand).then(result => {\n                    resolve(result)\n                    this.brand = result.status == 200 ? result.data : {}\n                    this.events = this.brand.events\n                    this.handle_get_joining_demands(this.brand.id_category)\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log('Error: ' + error);\n                })\n            })\n        },\n        handle_get_advertisement_brand() {\n\n        },\n        handle_add_wish_list() {\n            if(localStorage.getItem('access_token')) {\n                HTTP.patch('/wish/' + this.id_brand, {id_customer: this.customer.id}).then(result => {\n                    setTimeout(() => { alert(result.data.message)}, 2000)\n                })\n                .catch(error => {\n                    console.log('Error: ' + error);\n                })\n            } else {\n                router.push('/login')\n            }\n        },\n        handle_get_joining_demands(category) {\n            return new Promise((resolve, reject) => {\n                HTTP.get('joining-demand/category-type='+ category).then(result => {\n                    resolve(result)\n                    this.joining_demands = result.data.status == 200 ? result.data.data : []\n                })\n                .catch(error => {\n                    reject(error)\n                    console.log(error)\n                })\n            })\n        },\n        handle_select_city(i) {\n            this.city_choose = this.list_city[i]\n            this.city_show = false;\n            this.new_joining_request.location = this.new_joining_request.location.length == 0 ? this.new_joining_request.location += this.city_choose.name : this.new_joining_request.location += ', ' + this.city_choose.name\n        },\n        changeHandler() {\n            this.new_joining_request.time_contact = this.timer_call.HH + ':' + this.timer_call.mm\n        },\n        handle_return_string_money(text) {\n            const length = text.length\n           if(length > 6) {\n               return text.substr(0, text.length - 6) \n           } else if(length == 6) {\n               return '0.' + text.substr(0, 1)\n           }\n        },\n        handle_post_joining_request() {\n            this.$validator.validateAll()\n            if(!this.errors.any()) {\n                this.new_joining_request.id_brand = this.brand.id\n                return new Promise((resolve, reject) => {\n                    HTTP.post('/joining-request', this.new_joining_request).then(result => {\n                        resolve(result)\n                        if(result.data.status == 201) {\n                            alert('Post Your Request Success')\n                            this.new_joining_request = {\n                                id_brand: \"\", \n                                name: \"\", \n                                email: \"\", \n                                location: \"\", \n                                store_front: false, \n                                open_time: new Date(Date.now() + 7 * 60 * 60 * 1000), \n                                phone_number: \"\", zalo: \"\", time_contact: \"\", message: \"\"\n                            }\n                        } else {\n                            alert('Post Your Request Fail!!')\n                        }\n                    })\n                    .catch(error => {\n                        reject(error)\n                        console.log(error)\n                    })\n                })\n            } else {\n                alert('Post Your Request Brand FAIL')\n            }\n        },\n        handle_scroll_to_top(item) {\n            var online_inquery = document.getElementById(item);\n            var startTime = null;\n            var duration = 1000\n            var start_position = parseFloat(window.pageYOffset);\n            var target_position = parseFloat(online_inquery.getBoundingClientRect().top); \n            var distance = (target_position + start_position) / 2\n            \n            \n            function animation(current_time) {\n                if(startTime === null) startTime = current_time\n                var timeElapsed = current_time - startTime\n                var run = ease(timeElapsed, start_position, distance, duration)\n                window.scrollTo(0, run);\n\n                if(timeElapsed < duration) {\n                    requestAnimationFrame(animation);\n                }\n            }\n\n            function ease (t, b, c, d) {\n                t /= d/2;\n                if (t < 1) return c/2 * t * t + b;\n                t--;\n                return -c/2 * ( t * (t - 2) - 1) + b;\n            }\n\n            requestAnimationFrame(animation)\n        },\n        handle_get_wish_list(id_customer) {\n            HTTP.get('/customers/' + id_customer).then(result => {\n                localStorage.removeItem('customer')\n                localStorage.setItem('customer', JSON.stringify(result.data))\n                this.customer = result.data\n                this.wish_list_current = result.data.wish_list\n                this.wish_list_current.map(item => { this.is_wish_list = item == this.id_brand ? true : false })  \n            }).catch(error => {\n                console.log(error)\n            }) \n        }\n    },  \n    created() {\n        this.id_brand = this.$route.params.id\n        if(JSON.parse(localStorage.getItem('customer'))) {\n            this.customer = JSON.parse(localStorage.getItem('customer'))\n            this.handle_get_wish_list(this.customer.id)\n        }\n        this.handle_get_info_brand(this.$route.params.id)\n\n        this.$store.dispatch('get_cities').then(result => {\n            this.list_city = result.data\n        })\n    }\n}\n\n\n</script>"]}]}